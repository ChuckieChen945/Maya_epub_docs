<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-Scripting">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="topicid" content="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141">
<meta name="language" content="CHS">
<title>矩阵</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>矩阵</h1></div>
</div>
</div>

<div class="body"><p class="p" id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141__WS73099CC142F48755-3D114B7511841AEFA9F-8DD"> 矩阵是浮点值的二维表。
	 </p>
<p class="p" id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141__WS73099CC142F48755-3D114B7511841AEFA9F-8DB">若要声明一个矩阵，请使用 <samp class="ph codeph" id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141__GUID-D2C504D1-B829-42B5-82F4-14A5846953EC">matrix</samp> 关键字和变量名称，后跟矩阵中的行数和列数：
	 </p>
<pre class="pre codeblock">
matrix $a3[2][3];
</pre>
<p class="p" id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141__WS73099CC142F48755-3D114B7511841AEFA9F-8DA">这就创建了一个带有 3 列 2 行的矩阵，并将其指定给变量 $a3。矩阵的每个元素最初填充零。
	 </p>
<p class="p">不能使用变量设置矩阵中的行数或列数。
	 </p>
<p class="p" id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141__WS73099CC142F48755-3D114B7511841AEFA9F-8D9">与数组不同的是，必须在创建矩阵时指定它的大小：
	 </p>
<pre class="pre codeblock">
matrix $a2[][]; // ERROR: Size not specified
</pre>
<div class="section" id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141__WS73099CC142F48755-3D114B7511841AEFA9F-8D8"><h2 class="title sectiontitle">字面表示</h2> 
		 
		<p class="p" id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141__WS73099CC142F48755-3D114B7511841AEFA9F-8D7"> 矩阵的字面表示是一系列由代表行的逗号分隔的行，行以分号分隔。该值由 &lt;&lt; 和 &gt;&gt; 括起：
		</p>
 
		<pre class="pre codeblock">
matrix $a3[3][4] = &lt;&lt;2.5, 4.5, 3.25, 8.05;
 1.12, 1.3, 9.5, 5.2;
 7.23, 6.006, 2.34, 4.67&gt;&gt;
</pre>
 
		<p class="p" id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141__WS73099CC142F48755-3D114B7511841AEFA9F-8D4">将为指定大小和指定字面矩阵之间的任何差集填充零。
		</p>
 
		<p class="p" id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141__WS73099CC142F48755-3D114B7511841AEFA9F-8D3">即使指定了字面矩阵给变量，仍必须指定矩阵大小：
		</p>
 
		<pre class="pre codeblock">
matrix $a1[][] = &lt;&lt;1; 4&gt;&gt;; // ERROR: Size not specified
</pre>
 
	 </div>
<div class="section" id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141__WS73099CC142F48755-3D114B7511841AEFA9F-8D2"><h2 class="title sectiontitle">获取和设置矩阵值</h2> 
		 
		<p class="p" id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141__WS73099CC142F48755-3D114B7511841AEFA9F-8D1"> 设置矩阵的元素类似于在数组中设置元素。请记住，第一个索引指定行，同时第二个索引指定列。
		</p>
 
		<pre class="pre codeblock">
matrix $a3[4][2];
$a3[1][0] = 9;
</pre>
 
		<p class="p" id="GUID-F7EE7FEA-8D3A-4816-BA76-8D2265CD9141__WS73099CC142F48755-3D114B7511841AEFA9F-8CF"> 与数组不同的是，无法展开矩阵的大小。如果尝试设置矩阵范围之外的值，则 MEL 将发出错误信号：
		</p>
 
		<pre class="pre codeblock">
$a3[0][1] = 7; // ERROR: Element doesn’t exist
</pre>
 
	 </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Scripting/files/GUID-9ACB35ED-BC02-4E58-B171-4FF64741E22E.htm">数组、向量和矩阵</a></div>
</div>
</div>

</body>
</html>
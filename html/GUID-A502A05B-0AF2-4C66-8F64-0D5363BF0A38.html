<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-CharEffEnvBuild">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="modified" content="13/11/2021">
<meta name="topicid" content="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38">
<meta name="language" content="CHS">
<title>XGen 表达式全局变量</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>XGen 表达式全局变量</h1></div>
</div>
</div>

<div class="body"><div class="section" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__SECTION_D39E95F85A3844958001092C0C46D562"><h2 class="title sectiontitle">浮点数</h2> 
		 
		<dl class="dl" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-4863E58C-5368-4F84-B692-66121154ED13"><dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-125C6DB7-59A1-4843-8121-F1C7B5AAC299">$aCount 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-2BE66F31-2C71-427D-BA72-A1AD475705FC">当前归档基本体使用的归档数量。 
			 </dd>
<dt class="dt dlterm">$u 
			 </dt>
<dd class="dd">基础曲面的 u 参数。 
				<div class="note note" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-2B41876B-ACF7-4170-97A7-A8776EE825E0"><span class="notetitle">注：</span> 交互式修饰样条线支持。请参见 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-496603B0-F929-45CD-B607-1CFCD3283DBE.htm" title="XGen 交互式修饰提供了一系列专用于创建所有头发和毛发样式的完整工具，其中包括雕刻笔刷、修改器和雕刻层。">XGen 交互式修饰</a>。
				</div>

			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-38E6D493-F805-4616-8D60-1817ABA4D350">$v 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-D1A98E6E-9452-41D2-A0BF-86A557DA8250">基础曲面的 v 参数。 
				<div class="note note" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-4D362A19-4740-4221-999D-D921FD24BE5F"><span class="notetitle">注：</span> 交互式修饰样条线支持。请参见 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-496603B0-F929-45CD-B607-1CFCD3283DBE.htm" title="XGen 交互式修饰提供了一系列专用于创建所有头发和毛发样式的完整工具，其中包括雕刻笔刷、修改器和雕刻层。">XGen 交互式修饰</a>。
				</div>

			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-90C2B7D9-B8BD-4EB4-8C15-99EDD2FCFF72">$cLength 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-400496D0-A384-4204-AD11-337D4FF499E6">当前基本体最终计算得出的长度。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-356B4A78-376A-409D-9BCF-FD5B676B0548">$cWidth 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-55FCC6C6-A9DC-49CF-A753-9AD1261FCD44">当前基本体最终计算得出的宽度。 
				<div class="note note" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-BB3B9630-2CF0-4BE4-A8F7-8E9FE5AEADAB"><span class="notetitle">注：</span> 交互式修饰样条线支持。请参见 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-496603B0-F929-45CD-B607-1CFCD3283DBE.htm" title="XGen 交互式修饰提供了一系列专用于创建所有头发和毛发样式的完整工具，其中包括雕刻笔刷、修改器和雕刻层。">XGen 交互式修饰</a>。
				</div>

			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-3476F2E4-F97C-42A6-8C60-B508A4E9D2CF">$cDepth 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-B5931C86-E953-4469-948F-517C801248FE">当前基本体最终计算得出的深度，没有置换。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-4A354522-1754-4125-877A-52E45DBEF061">$descId 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-2DEAA2AE-30FF-444A-9F97-1C6FF85A712B">当前描述的 ID。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-D5B26078-9B95-4DAD-9B98-81481C9CF4F4">$faceid 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-13A63402-0E0D-4C29-A57E-F437011C34A8"> $faceId - 当前面的 ID。 
				<div class="note note" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-DE4FE2B8-347B-4D2D-BF10-1EC9EBB28928"><span class="notetitle">注：</span> 交互式修饰样条线支持。请参见 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-496603B0-F929-45CD-B607-1CFCD3283DBE.htm" title="XGen 交互式修饰提供了一系列专用于创建所有头发和毛发样式的完整工具，其中包括雕刻笔刷、修改器和雕刻层。">XGen 交互式修饰</a>。
				</div>

			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-5E2069A6-ACFD-402F-99FC-577A53C0C6F8">$frame 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-D1072859-3F04-4121-98A7-53F80023DAD5">要计算的当前帧。此值应谨慎使用，建议不要跨帧对某些属性进行更改（例如，长度和密度），因为这会使运动模糊计算无法实现。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-83633BC4-25D9-427E-8D69-17DB932F0541">$id 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-7DDAC31E-6626-41E8-807A-BBD8FA38FFBD">当前基本体的 ID。此变量对于涉及修改器的表达式非常有用。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-1C89E5F2-95EA-4D02-9E3A-8197A5468062">$objectId 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-1BD3DD7C-7575-4B69-A32F-C6F1711C8E8C"> $patchId 的别名。向量。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-ECB69151-B105-44ED-888D-1B6A9E70AAD8">$patchId 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-628F49C8-8071-4939-960E-A11B0248B814">当前面片的 ID。 
			 </dd>
</dl>
 
	 </div>
<div class="section" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__EXPRESSIONS_VECTORS"><h2 class="title sectiontitle">曲面向量</h2> 
		 
		<dl class="dl" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-9857CB90-24F3-4034-85BE-8644605EABD8"><dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-E1FEE0A0-622E-4845-91E7-93480AB61ED9">$P 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-576199A6-2894-4F97-B992-CD1DBDE96DA1">要在其位置计算基本体的曲面点。 
				<div class="note note" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-9647CFE8-BD22-4A7F-BE29-6E42E68ED9E7"><span class="notetitle">注：</span> 交互式修饰样条线支持。请参见 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-496603B0-F929-45CD-B607-1CFCD3283DBE.htm" title="XGen 交互式修饰提供了一系列专用于创建所有头发和毛发样式的完整工具，其中包括雕刻笔刷、修改器和雕刻层。">XGen 交互式修饰</a>。
				</div>

			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-EEF9624A-FBAD-40C6-B84E-3DFA8E7AD6BB">$Pg 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-548C324F-CBCD-451C-86B8-BC7A4CC7F3F8">没有置换的曲面点。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-96FE39AC-4AFA-496C-A74F-F8ACB463E178">$Pref 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-C2328A06-965F-436E-9727-5F980B66F061">要在其位置计算基本体的引用曲面点。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-5AB14BC8-7CC9-463F-B103-95A455D8782D">$Prefg 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-A97BA241-2EC2-4151-8928-304193EA8C49">没有置换的引用曲面点。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-FD4FEB86-9549-483D-BE63-23F3934950C7">$Pw 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-F1E197DB-FAFB-4A16-875E-F9DA54C37E1E">要在其位置计算基本体的曲面点。世界空间。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-3CBBD0E0-3461-4AC0-A885-829DF933C48F">$Pgw 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-0F72FB0E-6CC2-469B-AC67-A0EA598B9B5C">没有置换的曲面点。世界空间。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-CAB70D95-9810-47F8-A5AC-3A7F97CC65C0">$Prefw 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-0673106E-0B91-493D-BA7E-EA831D7541B6">要在其位置计算基本体的引用曲面点。世界空间。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-9AE66058-65D2-47F8-9697-454F3B95097A">$Prefgw 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-75407B23-8A6D-4446-81BB-816FF23A0D3F">没有置换的引用曲面点。世界空间。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-EC528A5F-8664-4A95-895E-1033668B9E95">$dPdu 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-7C1B46FA-5EB8-44E1-B116-F65D3F24A448">要在其位置计算基本体的曲面 dPdu。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-1181CC3D-B657-4448-894C-C53BF90FB81C">$dPdug 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-56F3DA1F-E556-4F2C-B257-8ED8EF460326">没有置换的曲面 dPdu。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-11DDCA8A-8D66-473B-8418-9D48E66DC9A7">$dPduref 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-10F98975-03CF-42AA-84A4-A03F72842481">要在其位置计算基本体的引用曲面 dPdu。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-523F3176-DD48-42F0-BD37-01116A25FBB1">$dPdurefg 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-EDF38781-758C-455B-9731-C8CC3AAAE3A3">没有置换的引用曲面 dPdu。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-0B43F663-EDDB-42E6-89B7-444065B7CF13">$dPdv 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-E14C3984-89F0-43F3-8410-04390B0A09C9">要在其位置计算基本体的曲面 dPdv。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-0B76A5FF-DE46-421F-860A-C65662A0442E">$dPdvg 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-F770638E-39DE-4AF6-A703-A026635F07AA">没有置换的引用曲面 dPdv。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-E40AAE6A-62E9-4175-BC24-CB332BC1EE1C">$dPdvref 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-14B96FFF-97C9-4869-A39D-D14F1917F907">要在其位置计算基本体的引用曲面 dPdv。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-17BEFFC4-9C51-4E11-AA9F-D6FCD56473B6">$dPdvrefg 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-FD50377D-A5EE-4BAA-971F-F850FCE1EFC9">引用曲面 dPdv。 
			 </dd>
</dl>
 
	 </div>
<div class="section" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__SECTION_49B8CE0BEFA94769AE071E081FD77183"><h2 class="title sectiontitle">曲面法线向量</h2> 
		 
		<dl class="dl" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-9E9AD3D5-FA84-4AAA-9D5E-D575D39B3AC6"><dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-4651BAF2-8699-4AD7-8C93-A7D3ADF7AFEA">$N 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-92518A2F-211D-4FAA-9CB6-B908BD9B4DD3">要在其位置计算基本体的曲面法线。 
				<div class="note note" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-9E54E780-9508-41F1-BDD5-6849BF9D10EA"><span class="notetitle">注：</span> 交互式修饰样条线支持。请参见 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-496603B0-F929-45CD-B607-1CFCD3283DBE.htm" title="XGen 交互式修饰提供了一系列专用于创建所有头发和毛发样式的完整工具，其中包括雕刻笔刷、修改器和雕刻层。">XGen 交互式修饰</a>。
				</div>

			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-75A25494-3080-49C7-9FA7-23D1C48831A6">$Ng 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-2D897BCD-007B-4CE8-A6D5-5908C53E1957">没有置换的曲面法线。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-00B6AEB9-AF3C-4694-8BFE-06E596D1C07D">$Nref 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-6F95328C-F247-4733-8A86-BE7ECEEB26AD">要在其位置计算基本体的引用曲面法线。 
			 </dd>
<dt class="dt dlterm" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-A8153666-149B-43A8-B9C3-C2C4920C1ACE">$Nrefg 
			 </dt>
<dd class="dd" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__GUID-BA3AA524-191C-4D0B-AAD5-611A3BE0E1F4">没有置换的引用曲面法线。 
			 </dd>
</dl>
 
	 </div>
<div class="section" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__SECTION_B187972EDB02474696FE2C14C6DAEEA4"><h2 class="title sectiontitle">曲面法线向量</h2> 
		 
		<dl class="dl"><dt class="dt dlterm">$N 
			 </dt>
<dd class="dd">要在其位置计算基本体的曲面法线。 
			 </dd>
<dt class="dt dlterm">$Ng 
			 </dt>
<dd class="dd">没有置换的曲面法线。 
			 </dd>
<dt class="dt dlterm">$Nref 
			 </dt>
<dd class="dd">要在其位置计算基本体的引用曲面法线。 
			 </dd>
<dt class="dt dlterm">$Nrefg 
			 </dt>
<dd class="dd">没有置换的引用曲面法线。 
			 </dd>
</dl>
 
	 </div>
<div class="section" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__SECTION_1959B98DE2AA46729706C28A1B754046"><h2 class="title sectiontitle">图像向量和缩放器 </h2> 
		 
		<dl class="dl"><dt class="dt dlterm"> $Cs 
			 </dt>
<dd class="dd"> 当前基本体的曲面着色。 
			 </dd>
</dl>
 
		<dl class="dl"><dt class="dt dlterm"> $As 
			 </dt>
<dd class="dd"> 当前基本体的 Alpha 曲面。 
			 </dd>
</dl>
 
	 </div>
<div class="section" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__SECTION_2F2CAC46296847869B9A611F8F2C2615"><h2 class="title sectiontitle">重要说明</h2> 
		 
		<ul class="ul" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__UL_9EFDD46D45CE4E8DBAB1A3FF9FB5F062"><li class="li" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__LI_4DD22C80DF844E2BB11D5F0AB580B4E4">有一组变量用于描述可在表达式中使用的基础面片信息。可使用向量形式的向量，也可引用各个分量。例如，<samp class="ph codeph">$N</samp> 是指曲面法线向量，而 <samp class="ph codeph">$N[0]</samp> 指法线向量的 X 分量。 
		  </li>
<li class="li" id="GUID-A502A05B-0AF2-4C66-8F64-0D5363BF0A38__LI_C39B1DFCA40D452DACB1D949EE0290B4">由于置换变量的值（例如点 (P) 和法线 (N)）取决于置换、偏移和凹凸表达式的值，因此不能在这些表达式中使用这些变量。如果要使用基于点的噪波或需要使用基础曲面中的值的任何其他表达式，则应使用 g 变量，如 <samp class="ph codeph">Prefg</samp> 和 <samp class="ph codeph">Nrefg</samp>。 
		  </li>
</ul>
 
	 </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-AFB8F7F3-DCCC-414A-9EC3-83B97FCC8C30.htm" title="该部分提供关于您可以在 XGen 表达式中使用的受支持全局变量、函数和运算符的参考信息。">XGen 表达式引用</a></div>
</div>
</div>

</body>
</html>
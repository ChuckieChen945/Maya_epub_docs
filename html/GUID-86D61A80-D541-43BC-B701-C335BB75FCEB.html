<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="task-adsk">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-CharEffEnvBuild">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="description" content="">
<meta name="modified" content="12/11/2021">
<meta name="topicid" content="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB">
<meta name="language" content="CHS">
<title>使用表达式改变几何体的大小和形状</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>使用表达式改变几何体的大小和形状</h1></div>
</div>
</div>

<div class="body taskbody-adsk"><p class="shortdesc"> 
</p>
<div class="section" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__SECTION_100769079B1C442EB2EB97D27425DF6A"> 
  <p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-739C17D2-CAE9-43F1-A723-ABD290B53BF0">您可以使用表达式来实现几何体的大小、形状和方向的随机化。这样，就可以多次实例化同一几何体，但每个实例在场景中的显示都不相同。 
  </p>
 
  <p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-DEA61406-8713-4EC1-BFA4-345749DC62D0">一种改变实例化几何体的简单方法是使用随机化表达式。 
  </p>
 
  <p class="li listintro" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-73983159-7315-45F4-8B7E-EAE857444178">将随机化添加到<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-3F6E80EB-8526-48AE-943D-5759AEEDE741">“扭曲”(Twist)</span>属性</p>
<ol class="ol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__OL_CCA688E2FD20463396A27E9D43348175"><li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_35E6B4A3C02B44DB947EB1DE5D40585B">在<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-BCE5B5D0-3BF0-4C62-AA3C-E9AF0BBC138E">“基本体属性”(Primitive Attributes)</span>部分，单击<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-8EE1D9EF-1774-4441-80DF-A0F065C6AD8E">“扭曲”(Twist)</span>旁边的 <img class="image" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__IMAGE_CA0AE02F4E024A74B551DC343FE600A6" src="../images/GUID-F4497753-0A89-4644-A7EC-1007B4821A20.png"> 图标。 
	 </li>
<li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_BF2CD11C26C94825B2F27A09717842EB">在<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-25B7FE0A-6777-4317-B567-0F463E8E2C2D">“XGen 表达式编辑器”(XGen Expression Editor)</span>中，键入以下表达式：<samp class="ph codeph" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-24A9BFD1-5EEF-4723-9FCC-83BDAC0BEFC5">rand(0,360)</samp>。 
		<p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-ED34F0A2-37E1-4B08-8A1D-D239C516FC97"></p>
 
	 </li>
<li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_0183344D0FAB46D1B64DF35C7FC24E42">单击<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-56EB11C9-3B13-4912-854E-3FC48C7A32B6">“接受”(Accept)</span>。 
		<p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-11051877-F24D-49C1-BF55-E7D216E48714">每棵树现在都有其独特的<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-CE64A62D-D46D-4CB6-BB82-AEA2AD34C692">“扭曲”(Twist)</span>值。 
		</p>
 
	 </li>
</ol>
 
</div>
<div class="section" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__SECTION_4E9C42F1164847FB898AFC2EA18E7C92"><h2 class="title sectiontitle">使用集合表达式生成变化 </h2> 
   
  <p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-06EFFF8B-E244-42EC-9F84-F9E5768DB32D">另一种生成随机化的方式是创建集合表达式。此类型的表达式可以应用于集合中所有描述的不同基本体属性值。 
  </p>
 
  <p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-B304842D-BB53-4884-833E-A7F920D9828E">在此示例中，可以使用集合表达式来创建具有滑块控件的自定义 XGen 属性。使用该滑块控件，可以生成随机化的值，并应用于<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-DB89F81C-1EBF-4C13-A8FF-0A8731A4679A">“长度”(Length)</span>、<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-8EAF43AA-258B-4A38-B802-1492C082FC8D">“宽度”(Width)</span>、<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-B8275A67-981E-4970-B65B-F8BC306A3304">“深度”(Depth)</span>和<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-9CE43AE1-097F-4C20-9F32-F98E500E4DF6">“扭曲”(Twist)</span>等属性。 
  </p>
 
  <ol class="ol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__OL_0257862FDCB44F7DBDDB444BFBA55456"><li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_E276975E38624572AE8EBC860DC23FAE">在<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-9C9B97EA-CE1A-41DF-942E-BEAF647793C3">“XGen”</span>窗口中，单击<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-8C72821F-CA4C-4C6F-9CD1-9B94E840DCF5">“表达式”(Expressions)</span>选项卡。 
	 </li>
<li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_4933A268978D4E92A1286892FF3A68D9">在<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-167BC989-C5E7-483D-934C-42E1FBF2EA67">“名称”(Name)</span>旁边，键入自定义表达式的名称，例如 <samp class="ph codeph" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-9D1E6B5B-1618-4F48-9090-B52BE2EFF2F5">randomizer</samp>。 
		<p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-FED43534-3075-4F5C-8458-D3A3A95DE032">由于此表达式使用浮点值，因此将其设置保留为<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-737F66C8-2CD3-4DF6-AD68-DC72E001014D">“浮点型”(Float)</span>。 
		</p>
 
	 </li>
<li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_BFE5E0468A9B4B5BA0A95EED05252BC9">单击 <img class="image" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__IMAGE_175A07471C4E4DF0880870F5E4EDE4AA" src="../images/GUID-50ADFA1D-3188-4A80-9B3D-A2326D68EFE2.png"> 图标以创建该属性。 
	 </li>
<li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_BEC72BC377D94FF2920DFF5AA048652B">单击属性旁边的 <img class="image" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__IMAGE_DD77D22DE45140DABFD8BE3887E195E9" src="../images/GUID-F4497753-0A89-4644-A7EC-1007B4821A20.png"> 图标。 
	 </li>
<li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_E91961E9BE364E07A4CBA9C1D9164537">在<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-09017CEE-558B-4C48-8E89-F3F803B75347">“XGen 表达式编辑器”(XGen Expression Editor)</span>中，键入： 
		<p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-D130EA02-A8D0-4F36-A2F5-F7C05E6D65CF"> 
		  <samp class="ph codeph" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-AACFDA5B-5786-44E0-8E9A-6B0D9E5C21D7">$a=;</samp> 
		</p>
 
		<p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-9A91F879-7C19-4DAA-9545-44EA7172A503">这将会为该属性创建一个滑块控件。 
		</p>
 
	 </li>
<li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_C714125F05AC4958960FD529F9C5B228">在下一行键入以下表达式： 
		<p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-9E881F43-3459-45D6-A796-EEBDF3C33EF2"><samp class="ph codeph" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-0FCA9713-F99B-4BC9-8322-8107872FBEFA">$a*rand(0.1, 3.0)</samp>。 
		</p>
 
		<div class="fig fignone" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__FIG_B6607AD152A9471393B40C5820957626"><img class="image" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__IMAGE_0537CDBF74734EE3904730BDE52892E9" src="../images/GUID-E9BF37ED-FD9F-4812-9BFE-1341D9284244.png"></div>
 
	 </li>
<li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_9E70B2B8E65F4DA2A735ACC48AFE9D99">单击<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-3BD06D62-D0D3-4A70-A92E-C4E459B50EF2">“接受”(Accept)</span>。 
		<p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-D764B3F8-77B6-428E-BD27-4C6E37D9BE9B">在该表达式中，滑块的值会乘以一个随机函数。现在，可以将基本体属性设置为使用该表达式生成的随机化值。 
		</p>
 
	 </li>
<li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_6DC7C1DF04584C049C5B8ADD1B383D55">单击<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-36585B2C-0A19-450D-BC34-9AFBF248F773">“基本体”(Primitives)</span>选项卡，再单击<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-E6ECD9C4-C09B-42C7-81A9-7C47D7952483">“长度”(Length)</span>旁边的 <img class="image" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__IMAGE_302A016F07DC4340A6036D79B729E2CA" src="../images/GUID-F4497753-0A89-4644-A7EC-1007B4821A20.png"> 图标。 
	 </li>
<li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_10B63A35D83E4C9AADFBBFD4DDC04755">清除显示在<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-A43A6E41-0245-4AAE-9540-255674F5E656">“XGen 表达式编辑器”(XGen Expression Editor)</span>中的内容，然后键入自定义属性名称，后跟 <samp class="ph codeph" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-56E6CF95-E1F4-4AA0-A37C-F8EA01FEAFE4">()</samp>，例如 <samp class="ph codeph" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-2493CA33-2CEF-40C2-907B-F6A195FCC42C">randomizer()</samp>。单击<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-6A068360-2029-42DA-A167-2AE2FB925F85">“接受”(Accept)</span>。 
		<p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-88E1668D-C6F0-4C3F-8113-47CE00F8BE24">现在，会根据自定义属性滑块设置随机生成指定给长度的值。 
		</p>
 
	 </li>
<li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_90246AAE4BD345D5A541F140A8561289">针对<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-3103E294-8C9E-49AD-977C-5043DAAA3F58">“宽度”(Width)</span>、<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-EAECCA8A-810C-4D8D-A99F-E4ABB8FB64DB">“深度”(Depth)</span>和<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-CFB7D09A-9A38-4D9B-8B84-1F96F7A75935">“扭曲”(Twist)</span>重复上面的步骤。 
	 </li>
<li class="li" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__LI_173D969F114A4F918365F76A656909BC">单击<span class="ph uicontrol" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-56B5007C-0B84-424D-A455-A62D1D464B05">“表达式”(Expressions)</span>选项卡，然后使用自定义属性滑块生成合适的值。 
		<p class="p" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-61122EB2-5D7F-4728-85AB-CA763941495F">也可以使用 <samp class="ph codeph" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__GUID-C8C5C346-D9D7-4273-9252-3FF9A46D7EA2">randomizer()</samp> 表达式来改变场景中草丛的大小和方向。 
		</p>
 
		<div class="fig fignone" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__FIG_0D444D62D893407B88A94EEB305CC107"><img class="image" id="GUID-86D61A80-D541-43BC-B701-C335BB75FCEB__IMAGE_E6F3AA2CE49248FC8B832F5F01E337A3" src="../images/GUID-94BCF322-3FD8-481B-A7AA-1467ED9C2493.png"></div>
 
	 </li>
</ol>
 
  <p class="p">使用所需的渲染器渲染场景。请参见<a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-42C4ED18-67AB-44AA-A1DA-D906F75E1B60.htm">着色和渲染 XGen 基本体</a>。
  </p>

</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-5663B038-3400-469F-AF42-E2F9A19D3A51.htm" title="此示例说明了如何对包含草、岩石和树的森林场景使用 XGen。">实例化几何体工作流程示例</a></div>
</div>
</div>

</body>
</html>
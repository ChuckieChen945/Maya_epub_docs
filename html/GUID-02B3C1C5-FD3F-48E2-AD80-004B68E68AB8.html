<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-Scripting">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="topicid" content="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8">
<meta name="language" content="CHS">
<title>sphrand</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>sphrand</h1></div>
</div>
</div>

<div class="body"><p class="p" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12B6"> 此函数返回所选择球形或者椭球形区域存在的随机向量值。椭球是沿其 X、Y 或 Z 轴缩放的球体。 </p>
<p class="p" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12B4">向量 sphrand（浮点半径） </p>
<p class="p" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12B3">向量 sphrand（向量向量） </p>
<p class="p" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12B2">半径是存在返回向量的球体的半径。 </p>
<p class="p" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12B1">向量是沿 X、Y 和 Z 轴的椭球体的半径。 </p>
<p class="p" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12B0">若要控制该函数返回的随机值，请参见<a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Scripting/files/GUID-A2056AF2-E4D5-4946-86BA-A01CA0643832.htm">种子</a>。 </p>
<div class="section" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12AF"><h2 class="title sectiontitle">示例 1</h2>

<pre class="pre codeblock">
sphrand(1)
</pre>

<p class="p" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12AE">此函数返回一个其随机选择的坐标位于以原点为中心、1 为半径的假想椭球体中的向量。以下是返回向量的一个示例：&lt;&lt;0.444，-0.427，0.764&gt;&gt;。 </p>

<div class="fig fignone" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12AD"><img class="image" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__IMAGE_492016FBBA294316BB4D5B276680F5F9" width="382" height="160" src="../images/GUID-D1C06708-DF40-4892-BBA5-7079D95345AD.png"></div>

</div>
<div class="section" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12AC"><h2 class="title sectiontitle">示例 2</h2>

<pre class="pre codeblock">
sphrand(&lt;&lt;2,1,1&gt;&gt;)
</pre>

<p class="p" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12AB">此函数返回一个其坐标位于以原点为中心、沿 X 轴半径为 2、沿 Y 轴半径为 1、沿 Z 轴半径为 1 的椭球体中的向量。 </p>

<div class="fig fignone" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12AA"><img class="image" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__IMAGE_F57BBCDEA58F4B7D95E0CAC072F0E787" width="357" height="194" src="../images/GUID-74B2C0B8-A36B-4C28-8791-32E4D2EF0811.png"></div>

<p class="p" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12A9">可使用 sphrand 函数创建随机位于<span class="ph uicontrol" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__GUID-D7BC980F-B2D4-4742-A99E-27A74BFB09B1">“X 轴”(X-axis)</span>半径为 2、<span class="ph uicontrol" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__GUID-628E8D9B-5499-4013-8084-67BCE888E599">“Y 轴”(Y-axis)</span>半径为 1、<span class="ph uicontrol" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__GUID-46A98322-8E4D-4BEF-8843-572623560382">“Z 轴”(Z-axis)</span>半径为 1 的椭球体中的 500 个粒子簇。 </p>

<p class="li listintro" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12A7"> 创建粒子椭球体</p>
<ol class="ol" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12A8"><li class="li" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12A5">选择“nParticle &gt; nParticle 工具”(nParticles &gt; nParticle Tool) &gt; <img class="image" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__IMAGE_92BEC23C34D5408D94312D3B99D7BB44" width="16" height="15" src="../images/GUID-96432FB8-EBE9-4D1A-8DED-5173E032EBC0.png">。 </li>
<li class="li" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12A4">输入 500 作为<span class="ph uicontrol" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__GUID-37E04AEF-A72C-4627-B100-11FF0771BE5D">“粒子数”(Number of Particles)</span>，1 作为<span class="ph uicontrol" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__GUID-06CDF0F3-8E26-4E78-B42F-CAFA31FF49B8">“最大半径”(Maximum Radius)</span>。 </li>
<li class="li" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12A3">在工作区随机单击鼠标放置粒子。 </li>
<li class="li" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12A2">在<span class="ph uicontrol" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__GUID-6D17F7F5-F06A-4607-9567-DEED87A88493">“表达式编辑器”(Expression Editor)</span>中选择该粒子对象的粒子形状节点。 </li>
<li class="li" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12A1">启用<span class="ph uicontrol" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__GUID-1295D459-4D33-4000-9D38-470F16D0DF5C">“创建”(Creation)</span>。 </li>
<li class="li" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-12A0">输入此表达式： <pre class="pre codeblock">
position = sphrand(&lt;&lt;2,1,1&gt;&gt;);
</pre>
 <p class="p" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-129F">Maya 会针对每个粒子执行一次该表达式。此操作会在由 &lt;&lt;2,1,1&gt;&gt; 指定的椭球体中围绕原点随机为每个粒子指定不同的位置。 </p>
 <div class="fig fignone" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__WS73099CC142F48755-3D114B7511841AEFA9F-129E"><img class="image" id="GUID-02B3C1C5-FD3F-48E2-AD80-004B68E68AB8__IMAGE_ED27AE2BBAAF4CD38C1789903B761540" width="121" height="102" src="../images/GUID-9AF7BD78-7AC0-4F56-9FF5-CC0452FCF6B8.png"></div>
 </li>
</ol>

</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Scripting/files/GUID-CA91F705-2E91-425C-BEA3-E15162C4CB55.htm">随机数函数</a></div>
</div>
</div>

</body>
</html>
<!DOCTYPE html><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <link rel="stylesheet" href="../style/client.css" type="text/css">

  <meta name="experiencelevel" content="general">
  <meta name="audience" content="user">
  <meta name="language" content="CHS">
  <meta name="product" content="MAYAUL">
  <meta name="release" content="2025">
  <meta name="book" content="GeneralUser">
  <meta name="component" content="Bifrost-Common">
  <meta name="topicid" content="Bifrost_Common_build_a_graph_work_with_programming_loops_create_a_for_each_loop_html">
  
  <meta name="generatedby" content="CLC">

  <script src="../scripts/client.js" type="text/javascript"><!--filler--></script>

<title>创建 for_each 循环</title>

</head>
<body>
  <a name="top"></a>
  <link rel="stylesheet" type="text/css" href="../style/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="../style/additions.css">
  <link rel="stylesheet" type="text/css" href="../style/font-awesome.min.css">

  <div class="body_content" id="body-content">
  <div class="head-block"><h1>创建 <code>for_each</code> 循环</h1></div><p><code>for_each</code> 循环并行处理多个元素。</p>
<p>请注意，在许多情况下，不需要 <code>for_each</code> 循环，因为通过<em>自动循环</em>，您可以将数组与其他数组和单一值组合在一起。例如：</p>
<ul>
<li>如果将单一值添加到数组，则会将该值添加到数组的每个元素。</li>
<li>如果将一个数组添加到另一个数组，则会添加每个数组的相应项。如果数组具有不同的大小，则结果将截断为较小的大小。</li>
</ul>
<p>发生自动循环时，它在受影响的端口上以特殊图标表示：</p>
<p><img src="../images/icon_autoloop.png" alt="自动循环"></p>
<p>但是，在某些情况下，您可能仍需要 <code>for_each</code> 循环，例如，如果您需要在计算中使用迭代索引。</p>
<ol>
<li><p>将 <code>for_each</code> 节点添加到图表中。</p>
</li>
<li><p>（可选）可以通过绘制与“新端口”(New Port)图标的连接来创建所需的任何端口。右键单击端口以对其进行重命名或其他更改。</p>
</li>
<li><p>进入复合并为要在循环中执行的计算创建子图。</p>
<ul>
<li>如果您希望复合可以迭代数组中的项目，请在输入数组端口上单击鼠标右键，然后选择<strong>“设置端口迭代次数目标”(Set Port Iteration Target) &gt;“true”</strong>。在循环的第 N 次迭代时，任何输入迭代目标的值均为连接数组中的第 N 个项目。</li>
<li>如果已设置一个或多个输入迭代目标，则可以删除 <code>max_iterations</code> 端口。从而，您无需连接数组的大小，即可确保所有项目均已得到处理。</li>
</ul>
</li>
</ol>
<p>所有输出端口均为迭代目标。该值是一个数组，其中第 N 个项目为第 N 次迭代的结果。</p>

<div class="callout callout-note">
<div class="callout-title"><i class="callout-icon fa fa-pencil" aria-hidden="true"></i>注意：</div>
<div class="callout-body">

<p>如果 <code>for_each</code> 循环计算所用时间过长，请按 Esc 键将其终止。有关详细信息，请参见<a href="https://help.autodesk.com/cloudhelp/2025/CHS/Bifrost-Common/files/build-a-graph/work-with-programming-loops/Bifrost_Common_build_a_graph_work_with_programming_loops_create_a_for_each_loop_html.html?guid=Bifrost_Common_simulate_dynamic_effects_terminate_html">使用 Esc 键终止</a>。</p>

</div></div>


  <div class="related-links">
  
    <div class="familylinks">
      <div class="parentLink">
        <strong>父页面:</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Bifrost-Common/files/build-a-graph/Bifrost_Common_build_a_graph_work_with_programming_loops_html.html">使用编程循环</a>
      </div>
  
    </div>
  
    </div></div>

    

</body>
</html>
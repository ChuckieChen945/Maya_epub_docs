<!DOCTYPE html><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <link rel="stylesheet" href="../style/client.css" type="text/css">

  <meta name="experiencelevel" content="general">
  <meta name="audience" content="user">
  <meta name="language" content="CHS">
  <meta name="product" content="MAYAUL">
  <meta name="release" content="2025">
  <meta name="book" content="GeneralUser">
  <meta name="component" content="AR-Maya">
  <meta name="topicid" content="arnold_for_maya_shapes_am_Stand_ins_html">
  
  <meta name="generatedby" content="CLC">
  <meta name="topic-type" content="reference">
  <meta name="contextid" content="AM_STAND_INS">
  <meta name="keyword" content="关键字占位符">

  <script src="../scripts/client.js" type="text/javascript"><!--filler--></script>
  <meta name="alt-title" content=" 替代对象 - Arnold for Maya">

<title>替代对象</title>

</head>
<body>
  <a name="top"></a>
  <link rel="stylesheet" type="text/css" href="../style/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="../style/additions.css">
  <link rel="stylesheet" type="text/css" href="../style/font-awesome.min.css">

  <div class="body_content" id="body-content">
  <link rel="stylesheet" type="text/css" href="../style/arnold.css">





<div class="head-block"><h1>替代对象</h1></div>
<div class="arnold-note">



<table>
<thead>
<tr>
<th>延伸阅读</th>
</tr>
</thead>
<tbody><tr>
<td>有关 Arnold 形状和形状参数的完整文档，请参见<strong>《Arnold 用户手册》</strong>中的<a href="https://help.autodesk.com/view/ARNOL/CHS/?guid=arnold_user_guide_ac_shapes_html" target="_blank">形状</a>。</td>
</tr>
</tbody></table>

</div>




<p><img src="../images/standins1.png" alt=""></p>
<p>您可以将任何对象导出为 .<a href="https://help.autodesk.com/view/ARNOL/CHS/?guid=arnold_user_guide_ac_scene_source_html" target="_blank">ass</a> 文件。<em>程序</em>（也称为替代对象、代理或占位符）引用磁盘上的 .ass 文件（或 Arnold 支持的其他程序格式，例如 .obj 或 .ply）。利用它们，您可以将几何体数据的加载延缓到渲染时进行，从而使工作场景保持轻巧且适宜（交互）工作。</p>
<ul>
<li>Arnold 替代对象还支持 <a href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;v=2025&amp;guid=arnold_for_maya_shapes_am_USD_html">USD</a> 和 <a href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;v=2025&amp;guid=arnold_for_maya_shapes_am_Alembic_html">Alembic</a> 文件。</li>
<li>有关<em>替代对象简介</em>的教程，请单击<a href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;v=2025&amp;guid=arnold_for_maya_rendering_am_An_Introduction_to_Stand_ins_html">此处</a>。有关如何在<em>替代对象</em>中打开 <a href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;v=2025&amp;guid=arnold_for_maya_shapes_am_USD_html">USD</a> 文件以及使用<a href="https://help.autodesk.com/view/ARNOL/CHS/?guid=arnold_user_guide_ac_operators_html" target="_blank">运算符</a>对其进行修改的教程，请单击<a href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;v=2025&amp;guid=arnold_for_maya_operators_am_Old_Attic_Interior_USD_Scene_html">此处</a>。</li>
</ul>
<p>工作流如下所示：要使用<em>替代对象</em>，必须先导出一些几何体供稍后使用。</p>
<p>要导出几何体，您必须：</p>
<ol>
<li>选择要导出的几何体。</li>
<li>转到<em>“Arnold &gt; 场景导出 &gt; 将所有内容/将当前选择导出为 .ASS”(Arnold &gt; Scene Export &gt; Export All/Selection to .ASS)</em>菜单选项。</li>
<li>选择归档的名称。</li>
</ol>
<p><img src="../images/standins2.png" alt=""></p>
<p><sub><strong><em>“Arnold &gt; 场景导出 &gt; 将所有内容/将当前选择导出为 .ASS”(Arnold &gt; Scene Export &gt; Export All/Selection to .ASS)</em>菜单选项</strong></sub></p>
<ul>
<li>或者，也可以通过<em>“文件 &gt; 导出全部”(File &gt; Export All)</em>选项将模型导出为<em>替代对象</em>。归档将保存为 <a href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;v=2025&amp;guid=arnold_for_maya_rendering_am_Arnold_Scene_Source_html">Arnold 场景源</a> <a href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;v=2025&amp;guid=arnold_for_maya_rendering_am_Arnold_Scene_Source_html">(.ass) 文件</a>。</li>
</ul>
<p><img src="../images/standins3.png" alt=""></p>
<p><sub><strong><em>替代对象</em>导出选项</strong></sub></p>
<p>您可以导出单个对象以及由多个对象构成的整个层次。也可以导出单个帧或帧序列。在这种情况下，将在 ass 文件的名称中使用 Maya 渲染器选项的帧填充值。要使用<em>替代对象</em>，需要创建替代对象基本体。使用<em>“文件 &gt; 导入”(File &gt; Import)、“文件 &gt; 创建引用”(File &gt; Create Reference)</em>，或者<em>“Arnold &gt; 替代对象 &gt; 创建”(Arnold &gt; StandIn &gt; Create)</em>（选择您认为最便捷的选项，显示的对话框是相同的），并指定要使用的归档。</p>
<p>请注意，除了归档 (.ass) 文件外，此时还可以加载动态库形式的预编译自定义程序（尽管目前未随 MtoA 附带提供）。  </p>
<p><img src="../images/standins4.png" alt=""></p>
<p><sub><strong>将 .ass 文件作为替代对象导入</strong></sub></p>
<p>这将创建一个<em>替代对象</em>节点，您可以用它来替代常规几何体。下面介绍了<em>替代对象</em>节点的属性。</p>
<p>如果查看<em>替代对象</em>时 Maya 视口运行缓慢，请为网格启用 Maya 的“边界框”(Bounding Box)显示覆盖，然后尝试导出 ass 文件。</p>
<h2 id="file-frame">文件/帧(File/Frame)</h2><p>替代对象通过<em>替代对象</em>节点获得支持。此节点具有以下参数：</p>
<p><img src="../images/standins5.png" alt=""></p>
<h3 id="path">路径(Path)</h3><p>归档 (.ass) 文件的路径。归档时可自动识别序列。</p>
<p>填充图案采用以下格式：</p>
<ul>
<li><strong>name.#.ext</strong> - 例如，name.1.ext、name.2.ext、name.3.ext、...、name.10.ext、...、name.100.ext、...</li>
<li><strong>name.##.ext</strong> - 例如，name.01.ext、name.02.ext、name.03.ext、...、name.10.ext、...、name.100.ext、...</li>
<li><strong>name.###.ext</strong> - 例如，name.001.ext、name.002.ext、name.003.ext、...、name.010.ext、...、name.100.ext、...</li>
<li><strong>name####.###.ext</strong> - 表示帧编号的四位数填充以及子帧数的三位数填充。</li>
</ul>
<p>例如：如果指向一个名为 test_001.ass 的文件，该文件将以 test_###.ass 格式识别为序列图案。如果要覆盖自动序列识别，则可手动更改路径字符串，并移除带有相应文件名的填充图案。</p>
<ul>
<li>在“渲染设置”(Render Settings)的<a href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;v=2025&amp;guid=arnold_for_maya_system_am_Search_Path_html">系统(System)</a>选项卡中，有一个开关可用来启用和禁用程序的绝对/相对路径名称（默认为绝对路径名称）。</li>
</ul>
<p><img src="../images/standins6.png" alt=""></p>
<h3 id="viewport-override">视口覆盖(Viewport Override)</h3><ul>
<li><strong>使用全局设置(Use Global Settings)</strong> - 使用“渲染设置”(Render Settings)中的_“替代对象绘制”(Standin Draw)_设置，可确定如何显示_替代对象_。</li>
<li><strong>使用局部设置(Use Local Settings)</strong> - 这是默认行为。</li>
<li><strong>边界框(Bounding Box)</strong> - 将替代对象显示为边界框。</li>
<li><strong>禁用绘制(Disable Draw)</strong> - 禁止显示替代对象。</li>
</ul>
<h2 id="a-href-standins-viewportdrawmode-viewport-draw-mode-a"><a href="https://help.autodesk.com/cloudhelp/2025/CHS/AR-Maya/files/am-Arnold_for_Maya_User_Guide/shapes/Standins-ViewportDrawMode">视口绘制模式(Viewport Draw Mode)</a></h2><p>程序的显示模式。</p>
<p><img src="../images/standins7.png" alt=""></p>
<h3 id="use-file-sequence">使用文件序列(Use File Sequence)</h3><p>启用后，它会识别所需的格式并自动打开序列。</p>
<h3 id="frame">帧(Frame)</h3><p>要读取以替换“使用帧扩展名”(Use Frame Extension)复选框中定义的图案的帧。您需要放置一个 Maya 表达式（“frameNumber = frame”），让一系列替代对象加载到不同的帧。</p>
<h3 id="frame-offset">帧偏移(Frame Offset)</h3><p>与当前帧的偏移。这允许在创建不同程序时使用相同的动画序列。</p>
<h3 id="override-nodes">覆盖节点(Override Nodes)</h3><p>可以使用此参数将程序内的节点替换为其他节点。例如，这可以用于替换现有 .ass 程序中的着色器。启用此参数后，程序的直接父项范围内的节点将替换程序内的同名节点。</p>
<h3 id="namespace">名称空间(Namespace)</h3><p>程序可使用此参数声明自定义名称空间。此自定义名称空间可代替程序名称，用来通过绝对或相对路径引用内容。通过使用相同的自定义名称，多个程序可共享同一个名称空间。此外，它们可以声明空名称，这样将使用全局名称空间。</p>
<p>“强制着色器指定”(Force Shader Assignments)参数（对于此工作流是必要的）显示在导出选项用户界面中，并且仅当“导出着色器”(Export Shaders)被禁用时才会显示。</p>
<p>要分别导出<em>替代对象</em>和着色器，工作流将如下所示：</p>
<ol>
<li>导出素材，仅启用“形状”(Shapes)，同时启用“强制着色器指定”(Force Shader Assignment)。</li>
<li>再次导出素材，这次仅启用“着色器”(Shaders)。</li>
<li>创建两个<em>替代对象</em>，分别加载它们。</li>
<li>为两个<em>替代对象</em>设置相同的<em>“名称空间”(Namespace)</em>字符串。</li>
</ol>
<h3 id="user-options">用户选项(User Options)</h3><p>有关<em>“用户选项”(User Options)</em>的信息，请单击<a href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;v=2025&amp;guid=arnold_for_maya_shapes_am_Arnold_Common_Settings_html">此处</a>。</p>
<h3 id="ignore-group-nodes">忽略组节点(Ignore Group Nodes)</h3><p>可以用于组层次下面的代理几何体，之后在进行渲染时将跳过它们。因此，激活此参数时，任何作为<em>替代对象</em>的父对象的几何体、灯光等都不会显示在渲染中。</p>
<h3 id="object-path">对象路径(Object Path)</h3><p>在层次中展开的 Alembic 路径。</p>
<h3 id="arnold">Arnold 程序设置</h3><h2 id="auto-instancing">自动实例化(Auto Instancing)</h2><p>允许按程序选择使用此功能（目前仅“.ass”程序支持此功能）。启用后，多次使用同一文件名的情况将透明地转化为实例。在使用运算符覆盖程序参数时，此解决方法有时很有用。</p>
<p>仅在要阻止自动实例化同一 .ass 文件时禁用此项。此项默认处于启用状态，且仅供技术用户使用。  </p>
<h2 id="alembic-alembic-settings">Alembic 设置(Alembic Settings)</h2><p>“导出到 Alembic”(Export to Alembic)位于<em>“Arnold -&gt; 替代对象”(Arnold -&gt; StandIn)</em>菜单中。</p>
<p><img src="../images/standins8.png" alt=""></p>
<p>此外，Arnold Alembic 导出功能还以 Arnold 格式的命名方式导出细分和用户属性数据，例如：</p>
<p><code>aiSubdivType = subdiv_type</code><br> <code>aiSubdivIterations = subdiv_iterations</code>  </p>
<h3 id="curves-basis">曲线基础(Curves Basis)</h3><p><a href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;v=2025&amp;guid=arnold_for_maya_shapes_am_Alembic_html">Alembic</a> 曲线基础覆盖。<em>“自动”(Auto)</em>（默认）使用在 <a href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;v=2025&amp;guid=arnold_for_maya_shapes_am_Alembic_html">Alembic</a> 中的曲线数据上设置的任何内容。从以下选项中选择：</p>
<ul>
<li><em>自动(auto)</em></li>
<li><em>bezier</em></li>
<li><em>B 样条曲线(B-spline)</em></li>
<li><em>catmull-rom</em></li>
<li><em>线性(Linear)</em></li>
</ul>
<h2 id="file-contents">文件内容(File Contents)</h2><p>在<em>属性编辑器</em>中显示文件的内容，并允许您对所选项目应用覆盖。</p>

<div class="callout callout-note">
<div class="callout-title"><i class="callout-icon fa fa-pencil" aria-hidden="true"></i>注意：</div>
<div class="callout-body">

<p>提供了一个<a href="https://areadownloads.autodesk.com/wdm/arnold/mtoa/Standin_abc_operators-user-guide.zip" target="_blank">场景</a>，演示如何对 .abc 文件使用<em>运算符</em>和<em>赋值</em>。 </p>

</div></div>

<p><img src="../images/standins9.png" alt=""></p>
<h3 id="look">外观(Look)</h3><p>选择创建、编辑或删除<em>外观<em>变体。创建新</em>外观*时，会自动添加一个 *aiLookSwitch</em> 节点，该节点是 <code>switch_operator</code> 和 <code>merge</code> 的组合并连接到程序图的根。处理第一个外观时，当前运算符将移动到变体切换节点上的第一个输入列表。<em>aiLookSwitch</em> 中的标签用于填充<em>替代对象<em>中的菜单。可以通过</em>“渲染设定”(Render Setup)<em>工具（用于按层/通道添加不同外观）来设置/覆盖此栓。名称/</em>外观</em>/通道将转换为索引编号以进行渲染。</p>
<p><img src="../images/standins10.png" alt=""></p>
<p><sub><strong>应用“绿色”<em>外观</em></strong></sub></p>
<h3 id="add-assignment">添加赋值(Add Assignment)</h3><p>参数列表，可以指定给其中的对象。它可以用于向节点的子对象添加属性和参数赋值。它可为每个选择创建一个 <a href="https://help.autodesk.com/view/ARNOL/CHS/?guid=arnold_user_guide_ac_operators_ac_set_parameter_html" target="_blank"><em>set_parameter</em></a> 节点，并将其按顺序放在<a href="https://help.autodesk.com/view/ARNOL/CHS/?guid=arnold_user_guide_ac_operators_html" target="_blank">运算符(Operators)</a>列表中。顶部是第一个<em>运算符</em>，层次中的最后一个叶是该列表中的最后一个运算符。</p>
<h4 id="local-overrides">局部覆盖(Local Overrides)</h4><p>层次中节点上的赋值。</p>
<h4 id="inherited-assignments">继承赋值(Inherited Assignments)</h4><p>影响下面的对象或匹配字符串表达式选择的覆盖。</p>
<p><img src="../images/standins11.png" alt=""></p>
<p><sub><strong>使用最左侧按钮创建的<em>继承赋值</em></strong></sub></p>
<h3 id="add-operator">添加运算符(Add Operator)</h3><p>向图表中的点添加常规<em>运算符</em>。选择字符串必须引用 .ass 文件中的节点。</p>
<p><img src="../images/standins12.png" alt=""></p>
<p><sub><strong>“运算符”列表</strong></sub></p>
<h3 id="show-graph">显示图形(Show Graph)</h3><p>显示形状和与之相连的任何*<a href="https://help.autodesk.com/view/ARNOL/CHS/?guid=arnold_user_guide_ac_operators_html" target="_blank">运算符</a>*的独立图表。</p>
<p><img src="../images/standins13.png" alt=""></p>
<h2 id="render-stats">渲染统计信息(Render Stats)</h2><p>在<em>“渲染统计信息”(Render Stats)</em>部分中，可以对选定的<em>替代对象</em>启用或禁用各种渲染选项。</p>
<h2 id="standin-overrides">替代对象覆盖(StandIn Overrides)</h2><h3 id="override-standin-light-linking">覆盖替代对象灯光链接(Override Standin Light Linking)</h3><p>如果启用此项，则 aiStandin 节点的灯光链接将应用于<em>替代对象</em>中的所有对象。</p>
<h2 id="override-standin-shaders">覆盖替代对象着色器(Override Standin Shaders)</h2><p>如果启用此项，则应用于 aiStandin 节点的着色器将覆盖<em>替代对象</em>中所有对象上的着色器。</p>
<p><img src="../images/standins14.png" alt=""></p>
<p><sub><strong>覆盖程序文件内设置的值。禁用 override_... = OFF 意味着<em>替代对象</em>将不强制使用该值。</strong></sub></p>
<ul>
<li>覆盖着色器<strong>不会</strong>覆盖置换贴图。置换由 Arnold 单独处理。当某一场景由 MtoA 转换至 Arnold 时，置换不属于应用于对象的“着色器”的一部分。</li>
</ul>
<div class="head-block"><h1>附加属性(Extra Attributes)</h1></div><p>除此以外，还有一些附加属性（已对用户隐藏），例如 <em>overridePrimaryVisibility<em>、</em>overrideOpaque</em> 等。这些属性位于_替代对象_的属性编辑器中的<em>“附加属性”(Extra Attributes)</em>底部（参见下文）。如果您使用<em>“替代对象覆盖”(StandIn Overrides)</em>控件，MtoA 将自动更新“附加属性”(Extra Attributes)下的相应复选框。例如，要覆盖<em>“主可见性”(Primary Visibility)</em>，还必须启用附加属性 <em>overridePrimaryVisibility</em>。</p>
<p><img src="../images/standins15.png" alt=""></p>
<p>通过为网格使用 Arnold <strong>程序</strong>转换器，您可以使用代理几何体来表示替代对象。此功能将使用 Maya 中的网格边界框信息。如果替代对象被剪裁，您可以禁用<strong>“延缓加载程序”(Defer Procedural Load)</strong>，或使用<strong>“用户选项”(User Options)</strong>设置程序最小值和最大值（例如，最小值 -1 -1 -1，最大值 1 1 1）。</p>
<p><img src="../images/standins16.png" alt=""></p>
<p><sub><strong>多边形网格程序转换器</strong></sub></p>

  <div class="related-links">
  
    <div class="familylinks">
      <div class="parentLink">
        <strong>父页面:</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/AR-Maya/files/am-Arnold_for_Maya_User_Guide/arnold_for_maya_shapes_html.html">形状</a>
      </div>
  
    </div>
  
    </div></div>

    

</body>
</html>
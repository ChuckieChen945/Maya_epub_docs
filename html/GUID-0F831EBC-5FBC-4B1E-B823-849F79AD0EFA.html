<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-CharEffEnvBuild">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="topicid" content="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA">
<meta name="language" content="CHS">
<title>设置头发自身阴影</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>设置头发自身阴影</h1></div>
</div>
</div>

<div class="body" id="WS73099CC142F48755-2231E4B3128F27EE529-2401"><div class="fig fignone" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B3936"><img class="image" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__IMAGE_BEAF520C073447D08F4714B0273AD990" width="347" height="338" src="../images/GUID-D0CFABEF-EF79-43FA-86A4-F7CCDA8173F1.png"></div>
<p class="p" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B3937"> 自身阴影对于自然的头发特别重要。如果使用<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-C4D83577-9057-4516-AE73-D9E76C30CA33">“Paint Effects”</span>头发，那么长发的阴影与使用常规<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-3537A781-9BF2-4C8D-9D63-7498907FF335">“Paint Effects”</span>的阴影具有相同的问题。必须使用深度贴图阴影，因为不支持光线跟踪阴影。还必须禁用<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-399AF38C-C278-4CD9-8C40-113E7F2000AE">“使用中间距离”(Use Mid Dist)</span>。禁用<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-FA5A4698-6C33-4B5B-B40A-0982D7997EDA">“使用中间距离”(Use Mid Dist)</span>时通常需要调整<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-FF55C758-7869-487A-B700-0B3AC9C301A8">“偏移”(Bias)</span> ；增大<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-359B8504-0A67-4BED-84FC-2AD2DCEC96F8">“偏移”(Bias)</span>将允许灯光更加半透明地穿透到头发中，以及避免曲面上的噪波栅格自身阴影瑕疵。nHair 非常细，需要使用相当高分辨率的阴影贴图。但是，增大<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-5C7AD537-63BE-4A0E-8FB8-84873D5CEA0F">“过滤器大小”(Filter Size)</span>可帮助平滑阴影，这有助于模拟灯光通过头发散射的扩散。它还可以软化头发阴影的颤振和锯齿。（有关灯光和阴影属性的详细信息，请参见<a class="xref" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;guid=GUID-5C4A0775-AF52-42D3-A8D5-299C723D871D">阴影属性</a>和 <a class="xref" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;guid=GUID-E4FE3CCF-EB03-4C4C-85D4-87792109B771">Maya 中的阴影</a>）。 </p>
<p class="p" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B3939">对于<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-F30B9F03-DB26-455F-A5B2-2EF3768C5295">“偏移”(Bias)</span>，通常应该从一个小值开始，然后增大它，直到曲面不再包含自身阴影瑕疵（曲面上的暗镶边）为止。接着可以进一步增加该值，以允许更多灯光穿透到头发中。通常，<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-1FF7C6D4-60F9-4D61-9A9D-9591848AD524">“过滤器大小”(Filter Size)</span>越大，<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-4EAA21F6-1BDF-443E-8A49-652875F256AE">“偏移”(Bias)</span>也应该越大。对于非常软的半透明头发，应使用相对较大的过滤器大小和相对较大的<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-E8E0B9C9-3892-434F-AA8D-96D98E97A458">“偏移”(Bias)</span>。有时，通过使用较小的过滤器大小并结合使用较低的深度贴图分辨率，可以获得相似的效果，尽管过滤器大小不应小于 2。 </p>
<p class="p" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B393A">在某些情况下，可能需要禁用<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-C030D832-79C9-414D-8E0A-2A7765D13611">“使用自动聚焦”(Use Auto Focus)</span>并手动设定<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-735A16AD-DA90-4F38-B3DA-42A2F2C264E3">“聚焦”(Focus)</span>值，因为确定自动聚焦区域不考虑<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-A80C9552-10BC-4322-A346-B24C31C90B37">“Paint Effects”</span>元素。对于点光源，通常会将焦点设定为 90 度。对于聚光灯，通常会将焦点设定为聚光灯角度。对于平行光，焦点不是一个角度，而是从任一阴影对象中心的一个宽度，或者如果启用<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-88BF6593-ABD5-4931-97B0-31C6B70FCC5B">“使用灯光位置”(Use Light Position)</span>，则是距灯光轴的一个距离。 </p>
<p class="p" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B393B">除了头发之外，在场景中还需要有一些阴影投射几何体，否则将不会创建任何深度贴图。（这是<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-B845AE5A-C98E-43CE-9F07-D2D8A187BD9F">“Paint Effects”</span>的一个限制。）几何体必须存在于会生成阴影贴图的区域内。（确定是否创建阴影贴图时，当前会忽略<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-796D697F-88F3-4FD8-A38A-3CBFC0B25FDB">“Paint Effects”</span>元素。） </p>
<p class="p" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B393C">为获得最佳效果，请使用环境颜色的几种暗淡阴影灯光在头发上创建环境光照明，而不是使用没有被阴影遮住的环境光进行创建。如果需要，对于这些灯光，也可以禁用镜面反射高光。 </p>
<p class="li listintro" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B393E">在 nHair 上设置自身阴影</p>
<ol class="ol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B393D"><li class="li" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B393F">创建灯光。 </li>
<li class="li" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B3940">在灯光的<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-27B3117C-A3D4-4AC8-AA1F-ABA6F913009A">“属性编辑器”(Attribute Editor)</span>中，增大<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-99F8F45E-1108-4574-AE37-5329EDBE31E2">“强度”(Intensity)</span>的值（如 1.5）。 </li>
<li class="li" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B3941">在“阴影”区域中： <ul class="ul" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B3942"><li class="li" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B3943">启用<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-08B39DF3-1E5A-4C60-B761-EAB671C042EC">“使用深度贴图阴影”(Use Depth Map Shadows)</span>。 </li>
<li class="li" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B3945">或者，禁用<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-C6C4702A-115B-4FD3-80D9-F51B6764277A">“使用自动聚焦”(Use Auto Focus)</span>，然后设定<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-4A579CE3-53C1-41DB-B3E4-0F6D240BAFEF">“聚焦”(Focus)</span>。 </li>
<li class="li" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B3946">为了逼真，增大<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-40B26CEE-F14A-4141-8D92-AE4397A2F606">“过滤器大小”(Filter Size)</span>来模糊头发中的灯光。 </li>
<li class="li" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__WS73099CC142F48755-3D114B751181C40F14B3947">设定<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-1A59E089-55CF-4BFC-AD8D-E80B0AC8BA1C">“偏移”(Bias)</span>以设定灯光滤过头发有多远，例如，0.006。对于不同的灯光类型，所需的<span class="ph uicontrol" id="GUID-0F831EBC-5FBC-4B1E-B823-849F79AD0EFA__GUID-35B71B49-A1C5-4AA8-B7EB-DB61DDF506F6">“偏移”(Bias)</span>可能会不同。 </li>
</ul>
 </li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-CA8AEAE8-D1E2-410F-BAD7-6624F2F23C82.htm">渲染 nHair</a></div>
</div>
</div>

</body>
</html>
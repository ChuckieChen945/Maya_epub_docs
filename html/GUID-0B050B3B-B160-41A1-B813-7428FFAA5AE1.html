<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-Scripting">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="modified" content="12/11/2021">
<meta name="topicid" content="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1">
<meta name="language" content="CHS">
<title>保存脚本并从脚本调用程序</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>保存脚本并从脚本调用程序</h1></div>
</div>
</div>

<div class="body"><div class="section" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__SECTION_ACC28B4728B449AE95DF659FA898395B"><h2 class="title sectiontitle">将脚本保存到工具架或标记菜单</h2> 
		 
		<p class="p" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-B085A46C-F4AE-44E4-A415-194DBC6A1FDB"> 为了便于访问，您可以将脚本或常用的运行时命令保存到工具架或标记菜单。 
		</p>
 
		<p class="p" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-1024A5D2-23D8-4CB4-9002-20EF35789E06">使用鼠标中键将脚本或命令拖动到工具架进行保存。请参见<a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Scripting/files/GUID-527023AE-9FB5-4D01-8D29-075B1E6C4754.htm">为脚本创建工具架按钮</a>。 
		</p>
 
		<p class="li listintro" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-7A411213-D046-4858-AB77-5AF16386E012">使用脚本创建自定义标记菜单</p>
<ol class="ol" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__OL_3ECF775D0D9D4788A64CEFB75A0A96FA"><li class="li" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__LI_279C1AB78A6E42E787A799CF740AFE50">选择<span class="ph uicontrol" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-1CD777F7-E697-430F-B21A-F7E37780FF33">“窗口 &gt; 设置/首选项 &gt; 标记菜单编辑器”(Windows &gt; Settings/Preferences &gt; Marking Menu Editor)</span>。 
			 <p class="p" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-34B9E3F9-700D-4C46-BA2E-5A56256CD053">单击<span class="ph uicontrol" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-3D1A767B-E113-48B7-A997-4A07C172B70F">“创建标记菜单”(Create Marking Menu)</span>以创建新的标记菜单。 
			 </p>
 
		  </li>
<li class="li" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__LI_E8CF6E5D25E54538B439180062EED464">使用鼠标中键拖动要添加到<span class="ph uicontrol" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-74AF799E-9141-41E3-A349-9484A94DADA2">“创建标记菜单”(Create Marking Menu)</span>窗口的运行时命令或脚本。 
		  </li>
</ol>
 
	 </div>
<div class="section" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__SECTION_3DCA2267EDD648EE995D8EAB3C031FF6"><h2 class="title sectiontitle">将脚本另存为 MEL 文件并调用其程序</h2> 
		 
		<p class="p" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-A35C4741-BE21-44F8-B426-61E12B9DD26A">请执行下列任一操作： 
		</p>
 
		<ul class="ul" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__UL_791E492E4B6949D0814AEA155323CA8E"><li class="li" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__LI_217499E940764A4F93E8DAC6D886DB83">以命令名称作为文件名、<samp class="ph codeph" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-4336D992-1FFA-4C8B-8637-9715B7C83FBB">.mel</samp> 作为文件扩展名（例如，对于命令 <samp class="ph codeph" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-3BB6A67B-9F9A-476E-B73B-D251A03B05E8">myCommand</samp>，此名称为 <samp class="ph codeph" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-F20CECF7-497E-4B3A-85E7-DE98F6318DD2">myCommand.mel</samp>）将脚本保存到 MAYA_SCRIPT_PATH 中的文件夹。 
			 <p class="p" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-13A7AF50-E901-491F-80A4-E0FDCED0E109">如果选择此方法且 <samp class="ph codeph" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-00A2B679-E8CA-4BC3-95D4-49C81E728F89">.mel</samp> 文件包含多个全局程序，则必须先调用 <samp class="ph codeph" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-BBA07EE2-8416-4850-A389-5CA8B677613D">mycommand</samp>，然后再调用文件中的其他全局程序。因此，在这种情况下，此方法可能不是您的首选方法。 
			 </p>
 
		  </li>
<li class="li" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__LI_16A37A7F073948D3B2FEC97035DD32CC">使用任意文件名保存脚本，然后使用 <samp class="ph codeph" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-18BDEEA0-7AA7-451A-B478-D282AE28BAFB">source</samp> 命令将其源化。 
			 <p class="p" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-D6512A9D-3034-43D5-9EF1-A9F99DD0118B">脚本源化后，可以按任意顺序调用其任何全局程序。 
			 </p>
 
		  </li>
<div class="note note" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-2537BDE2-EB86-4D96-BD01-C43881F1BCC7"><span class="notetitle">注：</span> 如果不确定是否需要源化脚本，则可在调用之前测试函数在 MEL 中是否可用： 
			 <pre class="pre codeblock">If (!`exists myFunction`) 
    source myFile;
myFunction;
</pre>
 
		  </div>
</ul>
 
		<p class="li listintro" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__GUID-EEE3E2E4-B005-4F0A-84C4-8F3F91A11DE5">相关主题</p>
<ul class="ul" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__UL_C817DD0C422144EEBC4984CC060E0CC7"><li class="li" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__LI_26F6DBA04FAF4F74BA5AF39A1264790E"> 
			 <a class="xref" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;guid=GUID-751407E4-7728-463F-9806-954AC3B72279">创建或编辑标记菜单</a> 
		  </li>
<li class="li" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__LI_002AE5F0FE0F4B358B10D2F19BEB4C58"> 
			 <a class="xref" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;guid=GUID-228CCA33-4AFE-4380-8C3D-18D23F7EAC72">文件路径环境变量</a> 
		  </li>
<li class="li" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__LI_F59179B3640C4E818C4F61BF8A3856D2"> 
			 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Scripting/files/GUID-FA813AD0-A947-45C4-9034-357E26C13D1C.htm">执行外部 MEL 脚本文件</a> 
		  </li>
<li class="li" id="GUID-0B050B3B-B160-41A1-B813-7428FFAA5AE1__LI_84B6D370DEE34A45A71098826D0CC0EC"> 
			 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Scripting/files/GUID-F04ED5B7-2DD0-48FF-959F-73D4487AF381.htm">调用程序</a> 
		  </li>
</ul>
 
	 </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Scripting/files/GUID-3CC75458-42A5-4703-B001-6A7B53F6CAD7.htm">开始编写 MEL 脚本：研究命令</a></div>
</div>
</div>

</body>
</html>
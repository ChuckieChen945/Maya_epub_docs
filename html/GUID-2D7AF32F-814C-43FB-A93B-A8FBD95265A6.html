<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-CharacterAnimation">
<meta name="created" content="15/10/2024">
<meta name="parent-product" content="MAYAUL">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="modified" content="18/07/2024">
<meta name="topicid" content="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6">
<meta name="language" content="CHS">
<title>ML 变形器训练设置</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>ML 变形器训练设置</h1></div>
</div>
</div>

<div class="body"><p class="p"> 在 ML 变形器训练设置中，您可以配置如何对机器学习模型进行训练数据训练。有关如何导出训练数据的详细信息，请参见 <strong class="ph b">ML 变形器“导出训练数据”(Export Training Data)窗口</strong>。
	 </p>
<div class="p"> 
		<div class="note note" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__GUID-510FC6DA-9970-4DCA-93EF-AFBEA9B85F8E"><span class="notetitle">注：</span> ML 变形器训练<em class="ph i">设置</em>与 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharacterAnimation/files/GUID-DB744421-DE81-42EA-910D-AD7F32C915DC.htm">ML 变形器“导出训练数据”(Export Training Data)窗口</a>不同。
		</div>
 
	 </div>
<div class="p">若要了解如何使用 <span class="ph uicontrol">ML 变形器</span>将复杂变形传递到源对象，请参见<a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharacterAnimation/files/GUID-13051D83-FF77-4A8C-BB4B-D6CA4D9CC82C.htm">创建 ML 变形器</a>和<a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharacterAnimation/files/GUID-941296C2-B5DA-4D5A-A9EA-E73016E1EF06.htm">使用单独的目标几何体创建 ML 变形器</a>。
	 <p class="li listintro">打开 <span class="ph uicontrol">ML 变形器</span>训练设置 </p>
<ul class="ul" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__UL_5B784F4770E94D15A481AC1EF6CD5D0E"><li class="li" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__LI_988B6109206544538A144321A0851200">在 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharacterAnimation/files/GUID-4098F004-0CB7-4B13-8F9C-146F747D7BAC.htm">ML 变形器属性(ML Deformer Attributes)</a>选项卡中，单击<span class="ph uicontrol">“训练模型...”(Train Model...)</span> <img class="image" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__IMAGE_74455555B86E4D00BC890DD415357B1D" src="../images/GUID-82A04A9D-D155-4E06-BA9D-F416AC88C0E3.png" alt=""> 图标。
		</li>
<li class="li" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__LI_7C60859D63F240BDB8559C315854416E">在 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharacterAnimation/files/GUID-4098F004-0CB7-4B13-8F9C-146F747D7BAC.htm">ML 变形器属性(ML Deformer Attributes)</a>选项卡中，在<span class="ph uicontrol">“ML 模型”(ML Model)</span>列上单击鼠标右键，然后选择<strong class="ph b"><span class="ph uicontrol">“训练模型...”(Train Model...)</span></strong>。
		</li>
</ul>
 
	 </div>
<div class="fig fignone" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__FIG_1BF34D00C0D44E2792619A0BFC092ACB"><img class="image" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__IMAGE_7B96069927DA482190F8051296A7C8E1" src="../images/GUID-AD819C0D-F955-4B66-9855-7F2EA7B8AA7F.png" alt=""></div>
<div class="section" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__SECTION_05995259E61246669CB13470F9F0C350"><h2 class="title sectiontitle"><span class="ph uicontrol">文件夹设置(Folder Settings)</span></h2> 
		 
		<p class="p"> 通过此部分，您可以设置导出的训练数据和训练模型的路径。
		</p>
 
		<dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">训练数据位置(Training Data Location)</span> 
			 </dt>
<dd class="dd"> 
				<div class="p"> 显示将对模型进行训练的导出训练数据的路径。有关如何导出训练数据的详细信息，请参见 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharacterAnimation/files/GUID-DB744421-DE81-42EA-910D-AD7F32C915DC.htm">ML 变形器“导出训练数据”(Export Training Data)窗口</a>。单击<strong class="ph b"><span class="ph uicontrol">“浏览”(Browse)</span></strong>导航到可以加载训练数据的文件夹。
				  <div class="note note" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__GUID-3414D1E4-E665-4F8D-B922-4F664D27C35C"><span class="notetitle">注：</span> 这可以是一个临时目录，因为在对模型进行训练后，无需训练数据，除非您想使用相同的数据对其重新训练。
				  </div>
 
				</div>
 
			 </dd>
<dt class="dt dlterm"><span class="ph uicontrol">ML 模型根位置(ML Model Root Location)</span> 
			 </dt>
<dd class="dd"> 显示保存训练的 ML 模型的目录，默认情况下，该目录位于项目文件夹内。ML 变形器需要 ML 模型才能运行，因此这些模型通常应与场景保留在同一项目中，以便更轻松地共享。
			 </dd>
<dd class="dd">单击<strong class="ph b"><span class="ph uicontrol">“浏览”(Browse)</span></strong>导航到要存储 ML 模型的文件夹。
			 </dd>
</dl>
 
	 </div>
<div class="section" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__SECTION_101D7705A1F8493BA02B62D6533AC6E7"><h2 class="title sectiontitle"><span class="ph uicontrol">训练设置(Training Settings)</span></h2> 
		 
		<p class="p">本部分让您定义用于示教 <span class="ph uicontrol">ML 变形器</span>的训练数据。
		</p>
 
		<dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">训练数据名称(Training Data Name)</span> 
			 </dt>
<dd class="dd"> 指定用于训练模型的训练数据集的名称。这应与在 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharacterAnimation/files/GUID-DB744421-DE81-42EA-910D-AD7F32C915DC.htm">ML 变形器“导出训练数据”(Export Training Data)窗口</a>中导出训练数据时指定的名称匹配。
			 </dd>
<dt class="dt dlterm"><span class="ph uicontrol">输出 ML 模型名称(Output ML Model Name)</span> 
			 </dt>
<dd class="dd"> 将创建的文件夹的名称，用于保存经过训练的 ML 模型文件及其关联元数据。此文件夹的后缀名为“.<em class="ph i">mldf</em>”。例如，使用名称“test”进行导出时，将在<span class="ph uicontrol">“训练数据名称”(Training Data Name)</span>目录的“ML 模型根位置”(ML Model Root Location)文件夹中创建一个名为 <em class="ph i">test.mldf</em> 的文件夹。
			 </dd>
<dt class="dt dlterm"><span class="ph uicontrol">预加载数据(Preload Data)</span> 
			 </dt>
<dd class="dd">激活<span class="ph uicontrol">“预加载数据”(Preload Data)</span>，以在训练过程中将所有训练数据加载到内存中，而不是批量加载。如果训练数据集能够完全放入内存中，则建议启用<span class="ph uicontrol">“预加载数据”(Preload Data)</span>，因为这样会使训练过程明显加快。如果在 GPU 上进行训练，速度差可能会更明显。
			 </dd>
<dt class="dt dlterm"><span class="ph uicontrol">批大小(Batch Size)</span> 
			 </dt>
<dd class="dd">指定将数据集分为的“批”的大小。这些批一起加载到内存中，因此您需要足够的 RAM（如果使用 GPU，则还需要 VRAM）来支持指定的批大小。
			 </dd>
<dt class="dt dlterm"><span class="ph uicontrol">训练次数(Epochs)</span> 
			 </dt>
<dd class="dd">用于设置训练处理完整数据集的次数。<span class="ph uicontrol">“训练次数”(Epochs)</span>的数量会影响训练模型所花费的时间。
			 </dd>
<dd class="dd">如果对结果不满意，请在增加训练次数前尝试使用较小的训练次数 (&lt; 100)。使用更多训练次数进行训练可让模型从数据中了解更多信息，但要注意“过度拟合”。
			 </dd>
<dd class="dd">当模型过于擅长匹配给定的特定数据且无法概括为新的控制值时，将发生过度拟合。请参见 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharacterAnimation/files/GUID-7BF875AC-7B82-4DE9-8FE9-1E0A91E909DF.htm"><span class="ph uicontrol">ML 变形器</span><span class="ph uicontrol">“训练结果”(Training Results)</span>窗口</a>，以分析训练数据中的过度拟合增量。
				<div class="fig fignone" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__FIG_9AFCD4DBBDB04E7F99AB76AF84C82562"><img class="image" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__IMAGE_AB03E483B21043EDAA57E3524728695D" src="../images/GUID-21922F00-8574-4014-AF1C-B24669B17C9D.png" alt=""><p class="figcap">过度拟合示例：蓝色线表示训练，橙色表示验证</p></div>
 
			 </dd>
<dd class="dd">要检查是否过度拟合，请比较训练和验证损失：如果验证错误大于训练错误，则这可能表示模型与训练数据过度拟合。（请参见上面的示例）。
			 </dd>
<dt class="dt dlterm"><span class="ph uicontrol">验证比率(Validation Ratio)</span> 
			 </dt>
<dd class="dd"> 指定应留待验证的训练数据样例的百分比。验证集是训练数据的随机采样，不会用于训练。它提供了一个有用的指标，说明模型在其未见过的数据上的表现如何，也可用于检查是否存在过度拟合。
			 </dd>
</dl>
 
		<div class="section" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__SECTION_21B4F6FDC3AA440D8D8DB73B8B394F5D"><h3 class="title sectiontitle"><span class="ph uicontrol">高级设置(Advanced Settings)</span></h3> 
		   
		  <p class="p">高级 ML 变形器训练设置提供了更多控制近似的方法。建议使用默认设置，仅在您有特定需求时才调整<span class="ph uicontrol">“高级设置”(Advanced Settings)</span>。
		  </p>
 
		  <dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">学习率(Learning Rate)</span> 
				</dt>
<dd class="dd"> 配置模型每批必须执行的学习“步骤”的大小，以根据该批的结果进行自身调整。值越小，所需的训练次数越多，可能会过载，而值越大，混乱程度越大，可能无法生成良好的近似。
				</dd>
<dt class="dt dlterm"><span class="ph uicontrol">隐藏层计数(Hidden Layer Count)</span> 
				</dt>
<dd class="dd"> 神经网络中的层数，不包括输入层和输出层。当前，所有设置均统一应用于每个隐藏层。
				</dd>
<dd class="dd"> 指定更多层有助于模型近似处理控件与生成的变形几何体之间的复杂关系，但会降低模型的运行和/或训练速度，这可能会造成不一致。
				</dd>
<dt class="dt dlterm"><span class="ph uicontrol">每层的神经元数(Neurons per layer)</span> 
				</dt>
<dd class="dd"> 应存在于模型每层中的人造神经元数。
				</dd>
<dd class="dd"> 这些神经元从上一层获取一组输入值，并生成输出值。增加神经元数使模型能够学习更多的变形。但是，增加神经元数也会增加模型的大小，使其运行和/或训练速度变慢（尤其是对于高分辨率网格），并导致过度拟合。
				</dd>
<dd class="dd">通常，深度神经网络比广度神经网络更高效。
				</dd>
<dt class="dt dlterm"><span class="ph uicontrol">激活函数(Activation Function)</span> 
				</dt>
<dd class="dd"> 
				  <div class="p">选择要应用于神经元输入总和以生成输出的函数。这些函数为输出引入了非线性，使模型能够学习输入和输出之间的非线性关系。
				  <dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">Sigmoid</span> 
						</dt>
<dd class="dd">S 形曲线函数。
						</dd>
<dd class="dd">有关说明，请参见 PyTorch 文档中的 <a class="xref" href="https://pytorch.org/docs/stable/generated/torch.nn.Sigmoid.html#sigmoid" target="_blank">Sigmoid</a>。
						</dd>
<dt class="dt dlterm"><span class="ph uicontrol">TanH</span> 
						</dt>
<dd class="dd">双曲正切函数。
						</dd>
<dd class="dd">有关说明，请参见 PyTorch 文档中的 <a class="xref" href="https://pytorch.org/docs/stable/generated/torch.nn.Tanh.html#tanh" target="_blank">TanH</a>。
						</dd>
<dt class="dt dlterm"><span class="ph uicontrol">Leaky ReLU</span> 
						</dt>
<dd class="dd"> 与 ReLU 类似，只是它们的坡度较小，而不是所有的负值都是 0，例如：<samp class="ph codeph">f(x)= 0.01 * x</samp>。
						</dd>
<dd class="dd">这样可以防止因为粘滞在负值上而导致的神经元消亡。
						</dd>
<dd class="dd">有关说明，请参见 PyTorch 文档中的 <a class="xref" href="https://pytorch.org/docs/stable/generated/torch.nn.LeakyReLU.html#leakyrelu" target="_blank">LeakyReLU</a>。
						</dd>
<dt class="dt dlterm"><span class="ph uicontrol">ReLU（改良线性单位）</span> 
						</dt>
<dd class="dd">简单的分段函数，如果 x 为正值，则 <samp class="ph codeph">f(x) = x</samp>，如果 x 为负值，则 <samp class="ph codeph">f(x) = 0</samp>。
						</dd>
<dd class="dd">由于其简单性，此函数比其他函数更快地返回良好结果。但是，由于负值之间没有坡度，因此有时输入会停滞在负值中且不可训练。
						</dd>
<dd class="dd">有关说明，请参见 PyTorch 文档中的 <a class="xref" href="https://pytorch.org/docs/stable/generated/torch.nn.ReLU.html#relu" target="_blank">ReLU</a>。
						</dd>
<dt class="dt dlterm"><span class="ph uicontrol">线性(Linear)</span> 
						</dt>
<dd class="dd">线性是最基本的激活函数：<samp class="ph codeph">f(x) = x</samp>。仅由线性激活组成的网络无法学习非线性变形，因此最好仅在需要或与其他激活函数配合使用时使用。
						</dd>
<dd class="dd">有关说明，请参见 PyTorch 文档中的 <a class="xref" href="https://pytorch.org/docs/stable/generated/torch.ao.nn.qat.Linear.html#linear" target="_blank">Linear</a>。
						</dd>
</dl>
 
				  </div>
 
				</dd>
<dt class="dt dlterm"><span class="ph uicontrol">修剪比率(Dropout Ratio)</span> 
				</dt>
<dd class="dd"> 使用<span class="ph uicontrol">“修剪比率”(Dropout Ratio)</span>可帮助防止过度拟合。使用<span class="ph uicontrol">“修剪比率”(Dropout Ratio)</span>时，在训练期间，每个层的比率设置的输入部分将设置为零。将输入设置为零会使模型学习冗余连接，从而使其更强大。
				</dd>
<dd class="dd">但是，此方法可能会产生不需要的结果，例如，在控件不应影响输出时将控件链接到输出。例如，移动腕关节导致肩部变形。
				</dd>
<dt class="dt dlterm"><span class="ph uicontrol">主形状(Principal Shapes)</span> 
				</dt>
<dd class="dd"> 
				  <p class="p">激活<span class="ph uicontrol">“主形状”(Principal Shapes)</span>，以便 <span class="ph uicontrol">ML 变形器</span>计算目标变形的一系列基础姿势，而不是解算每个姿势的基础顶点和目标顶点之间的差。有关如何使用<span class="ph uicontrol">“主形状”(Principal Shapes)</span>的步骤，请参见<a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharacterAnimation/files/GUID-D0C2FCBA-C18D-4055-86C3-2611251927ED.htm">使用主形状创建 ML 变形器训练数据</a>。
				  </p>
 
				  <p class="p"><span class="ph uicontrol">主形状</span>类似于混合形状：为了创建最终结果，它们具有混合在一起的关联权重。将<span class="ph uicontrol">主形状</span>添加到基础时，它们会重新创建目标变形。这样，<span class="ph uicontrol">ML 变形器</span>使用<span class="ph uicontrol">主形状</span>将控制值映射到这些权重，而不是进行近似增量的训练。
				  </p>
 
				  <p class="p">使用<span class="ph uicontrol">主形状</span>非常有用，因为要学习的权重数小于增量数，这样就能更快地学习和解算 ML 模型。（您可能需要减少每层的神经元数，以避免过度拟合。）
				  </p>
 
				  <div class="p"><span class="ph uicontrol">主形状</span>是根据训练姿势使用奇异值分解计算出来的。
					 <div class="note note" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__GUID-9E1C6A38-193B-4180-AF66-3552E13FD566"><span class="notetitle">注：</span> 确保您有足够的 RAM 来保存训练数据集，因为所有训练姿势都加载到内存中以执行此计算。
					 </div>
 
				  </div>
 
				</dd>
<dt class="dt dlterm"><span class="ph uicontrol">主形状限制(Principal Shapes Limit)</span> 
				</dt>
<dd class="dd">要生成的最大<span class="ph uicontrol">主形状</span>数。此值充当硬限制，因此即使未达到所需精度，计算最多也只能使用这么多形状。如果训练数据中的采样数超过增量数，则会显示错误消息。
				</dd>
<dt class="dt dlterm"><span class="ph uicontrol">主形状精确度(Principal Shapes Accuracy)</span> 
				</dt>
<dd class="dd">主形状组合在采样姿势中应达到的精确度级别。然后，<span class="ph uicontrol">ML 变形器</span>将生成重新创建目标变形以满足此精确度级别所需的主形状数。
				  <div class="note note" id="GUID-2D7AF32F-814C-43FB-A93B-A8FBD95265A6__GUID-BCA6D2E5-A308-43C1-BB69-973176E6A542"><span class="notetitle">注：</span> 这是使用完美权重值的精确度，因此训练模型得出的结果将不太精确。
				  </div>
 
				</dd>
</dl>
 
		</div>
 
		<dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">重置为默认值(Reset to Defaults)</span> 
			 </dt>
<dd class="dd">恢复 <span class="ph uicontrol">ML 变形器</span>训练设置默认选项。
			 </dd>
<dt class="dt dlterm"><span class="ph uicontrol">训练(Train)</span> 
			 </dt>
<dd class="dd">开始 <span class="ph uicontrol">ML 变形器</span>的训练过程。
			 </dd>
<dt class="dt dlterm"><span class="ph uicontrol">保存(Save)</span> 
			 </dt>
<dd class="dd">将设置保存在 <span class="ph uicontrol">ML 变形器</span>训练设置中，以便可以再次使用它们。若要重用先前的 <span class="ph uicontrol">ML 变形器</span>训练设置，请单击<span class="ph uicontrol">“训练数据名称”(Training Data Name)</span>和<span class="ph uicontrol">“输出 ML 模型名称”(Output ML Model Name)</span>字段中的<strong class="ph b"><span class="ph uicontrol">“选择”(Choose)</span></strong>。
			 </dd>
<dt class="dt dlterm"><span class="ph uicontrol">取消(Cancel)</span> 
			 </dt>
<dd class="dd">关闭 <span class="ph uicontrol">ML 变形器</span>训练设置。
			 </dd>
</dl>
 
	 </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharacterAnimation/files/GUID-F386DC20-6C66-40D7-AD40-2C1B66937A71.htm">ML 变形器</a></div>
</div>
</div>

</body>
</html>
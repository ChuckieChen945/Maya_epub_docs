<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-SimulationEffects">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="topicid" content="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC">
<meta name="language" content="CHS">
<title>使用 nParticle 实例化几何体</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>使用 nParticle 实例化几何体</h1></div>
</div>
</div>

<div class="body" id="WS73099CC142F48755-2231E4B3128F27EE529-3313"><p class="p" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__WS1A9193826455F5FF-6D855556117FACF922E-3409"> 使用 Maya 粒子实例化可以在场景中对许多相同的对象设置动画。例如，可以使用粒子实例化快速创建一群飞行的虫子并为其设置动画，在该场景中只有虫子的放置和方向会有所不同。可以为单个虫子设置动画，然后创建虫子的几何体实例，这些实例会随已设置动画的粒子的位置和方向移动。还可以使用实例化几何体的 nParticle 每粒子属性（如每粒子旋转），以便每个对象能够单独旋转。 
	 </p>
<p class="p" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__WS1A9193826455F5FF-6D855556117FACF922E-3405">几何体实例不是一个对象的重复项，而是对原始对象的引用（并非文件引用）。对原始对象所做的任何更改也会应用到实例化对象。通过对用于控制各实例化对象的每粒子属性设置动画，可控制这些对象的运动。例如，可以使用 nParticle 旋转每粒子属性来创建随机移动对象的逼真行为，例如爆炸效果中飞溅的碎片。 
	 </p>
<p class="p" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__WS1A9193826455F5FF-6D855556117FACF922E-3404">称为源几何体的实例化几何体对象可以是： 
	 </p>
<ul class="ul" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__WS1A9193826455F5FF-6D855556117FACF922E-3403"><li class="li" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__WS1A9193826455F5FF-6D855556117FACF922E-3402">已设置动画或未设置动画的单个对象。 
		</li>
<li class="li" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__WS1A9193826455F5FF-6D855556117FACF922E-3401">形状或位置不同的一系列对象。对象系列的示例：翅膀摆动位置不同而其他基本相同的一系列鸟对象。 
		</li>
<li class="li" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__WS1A9193826455F5FF-6D855556117FACF922E-3400">要以不同粒子显示的不同对象。 
		</li>
</ul>
<p class="p" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__WS1A9193826455F5FF-6D855556117FACF922E-33FF">可以使用对象层次而非各个对象作为源几何体。不要实例化灯光；它们对渲染没有任何影响。 
	 </p>
<p class="p" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__GUID-B9AE8ABF-02F1-4FDF-866C-E9F061C8992D">有关粒子实例化选项的信息，请参见<a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-SimulationEffects/files/GUID-797C611B-2CB8-42E5-B301-14B9F6291437.htm">粒子实例化器选项</a>。 
	 </p>
<div class="note important" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__GUID-E6B209F1-18EF-4705-9B9B-CF5EFCB75E4C"><span class="importanttitle">重要：</span>  粒子采样器信息节点无法以与普通粒子渲染相同的方式进行粒子实例渲染。这限制了对实例化粒子进行着色的能力。解决方法是，可以使用不同的着色器创建多个实例并在它们之间切换。 
	 </div>
<div class="section" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__WS1A9193826455F5FF-6D855556117FACF922E-33CD"><h2 class="title sectiontitle">命令行实例化限制</h2> 
		 
		<p class="p" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__WS1A9193826455F5FF-6D855556117FACF922E-33CC">在动画中渲染任意帧时，<a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Tech-Docs/Commands/runup.html" target="_blank">runup</a> 命令可能无法创建实例化几何体。在预备运行正确创建实例化几何体之前添加 <a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Tech-Docs/Commands/currentTime.html" target="_blank">currentTime</a> 设置；即，如果在使用实例化几何体进行渲染时，<samp class="ph codeph" id="GUID-BCF2EDB8-8D46-4968-BF72-A2CD2C666CFC__GUID-902FDF2D-9558-4252-993C-04755E505107">runup -mxf 60;</samp> 之类的语句不创建正确的结果，请使用： 
		</p>
 
		<pre class="pre codeblock">
currentTime -e 1; 
runup -mxf 60;
</pre>
 
	 </div>
</div>
<div class="related-links">
<div class="relinfo relchildren"><strong>本节内容</strong>
<ul class="ullinks">
<li class="link ulchildlink"><a href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-SimulationEffects/files/GUID-DEB3A525-07B2-4C40-873C-984266B06736.htm">创建已设置动画的实例</a><br>
</li>
<li class="link ulchildlink"><a href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-SimulationEffects/files/GUID-D035B5F8-F88D-4B07-A390-E45D66FE7D6A.htm">旋转实例化几何体</a><br>
</li>
<li class="link ulchildlink"><a href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-SimulationEffects/files/GUID-E4064D12-DDE1-4177-A261-54476517E8F4.htm">对准实例化几何体</a><br>
</li>
<li class="link ulchildlink"><a href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-SimulationEffects/files/GUID-2F587872-8825-4FA0-8264-C3BC936E9043.htm">实例化来自 Paint Effects 的笔划</a><br>
</li>
</ul></div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-SimulationEffects/files/GUID-AEBE18A1-C2C8-4830-B600-8C8690979A35.htm">nParticle 工作流</a></div>
</div>
</div>

</body>
</html>
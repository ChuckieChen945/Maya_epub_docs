<!DOCTYPE html><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <link rel="stylesheet" href="../style/client.css" type="text/css">

  <meta name="experiencelevel" content="general">
  <meta name="audience" content="user">
  <meta name="language" content="CHS">
  <meta name="product" content="MAYAUL">
  <meta name="release" content="2025">
  <meta name="book" content="GeneralUser">
  <meta name="component" content="Bifrost-Common">
  <meta name="topicid" content="Bifrost_Common_build_a_graph_create_and_edit_compounds_edit_port_ui_html">
  
  <meta name="generatedby" content="CLC">

  <script src="../scripts/client.js" type="text/javascript"><!--filler--></script>

<title>自定义复合的输入</title>

</head>
<body>
  <a name="top"></a>
  <link rel="stylesheet" type="text/css" href="../style/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="../style/additions.css">
  <link rel="stylesheet" type="text/css" href="../style/font-awesome.min.css">

  <div class="body_content" id="body-content">
  <div class="head-block"><h1>自定义复合的输入</h1></div><p>可以自定义复合的输入以提供便利，例如，用于 float3 输入的颜色构件、最小值和最大值、用于命名输入的组合框等。</p>
<ol>
<li>在图表中选择复合，并确保其可编辑。<ul>
<li>如果已参照复合（如其名称前面的小菱形所示），请在其上单击鼠标右键，然后选择<strong>“设为可编辑”(Make Editable)</strong>。</li>
</ul>
</li>
<li>在<strong>“参数编辑器”(Parameter Editor)</strong>中，单击铅笔图标。<br> <img src="../images/pencil-icon.png" alt="铅笔图标"><ul>
<li><strong>“自定义 UI”(Customize UI)</strong>编辑器将打开，<strong>“参数编辑器”(Parameter Editor)</strong>指示它处于用户界面编辑模式。在此模式下，无法设置输入值。</li>
</ul>
</li>
<li>在<strong>“参数编辑器”(Parameter Editor)</strong>中单击某个参数，以在<strong>“自定义 UI”(Customize UI)</strong>编辑器中选择该参数进行编辑。</li>
<li>使用<strong>“自定义 UI”(Customize UI)</strong>编辑器根据需要设置选项。可用选项取决于端口类型：<ul>
<li>数值类型允许您设置虚拟滑块的最小值和最大值。 </li>
<li>简单的数值类型（如浮点和整数）允许您使用具有命名值的组合框。</li>
<li>3D 或 4D 浮点向量允许您使用 RGB 或 RGBA 颜色拾取器。</li>
<li>字符串输入允许您使用浏览器构件来选择文件或文件夹。也可以对字符串使用组合框。</li>
</ul>
</li>
<li>根据需要选择和编辑其他参数。</li>
<li>完成后，单击<strong>“参数编辑器”(Parameter Editor)</strong>上<strong>“自定义 UI”(Customize UI)</strong>标签旁边的 <strong>X</strong> 图标。或者，可以关闭<strong>“自定义 UI”(Customize UI)</strong>编辑器，再次单击铅笔图标，或取消选择复合。</li>
</ol>
<h2 id="strong-ui-customize-ui-strong"><strong>“自定义 UI”(Customize UI)</strong>编辑器</h2><p><img src="../images/customize-ui.png" alt="自定义复合输入"></p>
<ol>
<li>打开或关闭<strong>“自定义 UI”(Customize UI)</strong>编辑器。</li>
<li>选择要编辑的端口。拖动以重新排序，或者移入或移出参数组。单击鼠标右键以创建组，或选择其他选项。</li>
<li>关闭<strong>“自定义 UI”(Customize UI)</strong>编辑器。</li>
<li>更改端口类型。</li>
<li>重命名端口，或选择可用的构件类型：虚拟滑块（默认）、组合框、颜色拾取器等。</li>
<li>设置滑块软限制。此部分仅针对数值类型显示。</li>
<li>为组合框创建命名值。仅当<strong>“构件类型”(Widget Type)</strong>是<strong>“组合框”(Combo Box)</strong>时，才显示此部分。</li>
<li>创建条件显示规则，在“参数编辑器”(Parameter Editor)中基于其他设置启用、禁用、隐藏或显示参数和组。</li>
</ol>
<h2 id="">最小值和最大值</h2><p>当自定义数值类型的端口时，可以设置虚拟滑块的最小值和最大值。这些限制会影响虚拟滑块，并且是<em>软限制</em>，这意味着您仍然可以输入范围之外的值（之后滑块在扩展范围内工作）。 </p>
<p>对于向量和矩阵，这些限制会影响所有分量。 </p>
<p>要移除限制，请删除<strong>“最小值”(Min Value)</strong>或<strong>“最大值”(Max Value)</strong>框中的任何值。 </p>
<h2 id="">组合框的命名值</h2><p>当端口的<strong>“构件类型”(Widget Type)</strong>是<strong>“组合框”(Combo Box)</strong>时，可以创建可从下拉列表中选择的命名值。 </p>
<ol>
<li>对于数值类型，请输入标识标签及其相应的值。对于字符串类型，只需输入要显示在列表中的文字。</li>
<li>单击 <strong>+</strong> 图标。</li>
</ol>
<p>重复上述步骤以添加任意数量的命名值。</p>
<p>添加标签或值后，可以更改该标签或值。要移除命名值，请单击条目旁边垃圾桶的图标。</p>
<p><strong>“允许自定义值”(Allow Custom Values)</strong>允许您在<strong>“参数编辑器”(Parameter Editor)</strong>的输入框中单击以键入除命名值以外的值。禁用此选项后，您只能从下拉列表中选择值，但请注意，仍然可以创建具有不同值的输入连接。</p>
<h2 id="">名称和值显示</h2><p>可以使用<strong>“自定义 UI”(Customize UI)</strong>编辑器为可编辑的复合设置名称和值显示表达式。名称和显示表达式将成为您发布的复合的默认值。</p>
<p>如果节点具有值显示表达式，则默认情况下，它将显示在图表（而不是节点名称）中，显示方式与 <code>value</code> 节点显示实际值的方式相同。这样可以更轻松地读取图表，因为您不需要选择节点即可在<strong>“参数编辑器”(Parameter Editor)</strong>上查看其值。如果需要，可以选择显示名称而不是值，方法是使用表达式选择一个或多个节点，然后启用<strong>“显示 &gt; 显示节点名称”(Display &gt; Show Node Names)</strong>。</p>
<p><img src="../images/display-value-expression.png" alt="值显示表达式"></p>
<ol>
<li>单击<strong>“参数”(Parameters)</strong>选项卡上的复合标题可设置复合的名称或值显示表达式。</li>
<li>输入名称。仅支持字母数字字符和下划线。不支持的字符将自动更改为下划线。为了与脚本兼容，名称不能以数字开头。</li>
<li>输入当<strong>“显示 &gt; 显示节点名称”(Display &gt; Show Node Names)</strong>处于禁用状态时要在图表中显示的表达式。表达式中必须包含一个或多个以花括号括起来的端口名称，例如 <code>{my_port}</code>。</li>
</ol>

<div class="callout callout-tip">
<div class="callout-title"><i class="callout-icon fa fa-lightbulb-o" aria-hidden="true"></i>提示：</div>
<div class="callout-body">

<p>还可以为任何节点设置值显示表达式，方法是在图表中双击节点名称以对其重命名，然后输入一个字符串，其中包含一个或多个以花括号括起来的端口名称。</p>

</div></div>

<h2 id="">条件显示规则</h2><p>通过条件显示规则，您可以在“参数编辑器”(Parameter Editor)中基于其他设置启用、禁用、隐藏或显示参数和组。例如，如果关联的显示选项处于禁用状态，则可以隐藏颜色构件。</p>
<p>请注意，显示规则仅基于即时值。它们不会对图表进行解算以确定条件是否为真，因此如果控制参数具有输入连接，则受影响的参数始终可见且处于启用状态。</p>
<p>若要创建条件显示规则，请执行以下操作：</p>
<ol>
<li><p>在<strong>“自定义 UI”(Customize UI)</strong>编辑器处于打开状态时，在<strong>“参数编辑器”(Parameter Editor)</strong>中选择要影响的参数或参数组。</p>
</li>
<li><p>在<strong>“自定义 UI”(Customize UI)</strong>编辑器中，单击<strong>“添加条件显示规则”(Add Conditional Display Rule)</strong>。这将创建一个基于规则的特殊组（在<strong>“参数编辑器”(Parameter Editor)</strong>中以虚线轮廓显示），并选择该组以在<strong>“自定义 UI”(Customize UI)</strong>编辑器中进行编辑。</p>
<p><img src="../images/conditional-display-rule.png" alt="编辑条件显示规则"></p>
</li>
<li><p>选择<strong>“显示操作”(Display Action)</strong>：<strong>“显示”(Show)</strong>、<strong>“隐藏”(Hide)</strong>、<strong>“启用”(Enable)</strong>或<strong>“禁用”(Disable)</strong>。</p>
</li>
<li><p>在<strong>“基于”(Based on)</strong>下，选择规则所基于的参数。选择布尔型、整型、浮点型、字符串型或自动参数。 </p>
</li>
<li><p>对于非布尔型参数，请从下拉列表中选择一个条件，然后在相应的文本框中输入一个要进行比较的值。</p>
<p>条件 <code>--</code> 适用于自动端口，而不考虑在它旁边输入的值。</p>
<ul>
<li>如果端口的值为布尔型，则条件表示为 true，例如“为 true 时隐藏”(hide if true)或“为 true 时显示”(show if true)。</li>
<li>如果端口的值为数值型，且使用虚拟滑块控件，则表示不为 0。 </li>
<li>对于具有命名值的组合框控件，则表示不是第一个。</li>
<li>如果端口的值为字符串型，则表示非空字符串。</li>
<li>如果端口的值类型为数组，则表示非空数组。</li>
</ul>
</li>
<li><p>如果需要，可以通过将其他参数和参数组拖动到<strong>“参数编辑器”(Parameter Editor)</strong>中基于规则的组，来控制这些参数和参数组。若要从基于规则的组中移除某个参数或参数组，只需将它拖到组外即可。</p>
</li>
</ol>
<p>若要嵌套条件显示规则，请在<strong>“参数编辑器”(Parameter Editor)</strong>中选择基于规则的组，然后单击<strong>“添加条件显示规则”(Add Conditional Display Rule)</strong>来创建父规则。或者，只需将一个基于规则的组拖动到另一个组内即可。</p>
<p>若要移除某个规则，请在<strong>“参数编辑器”(Parameter Editor)</strong>中选择相应的组，然后在<strong>“自定义 UI”(Customize UI)</strong>编辑器中单击垃圾桶图标。</p>

  <div class="related-links">
  
    <div class="familylinks">
      <div class="parentLink">
        <strong>父页面:</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Bifrost-Common/files/build-a-graph/Bifrost_Common_build_a_graph_create_and_edit_compounds_html.html">创建和编辑复合</a>
      </div>
  
    </div>
  
    </div></div>

    

</body>
</html>
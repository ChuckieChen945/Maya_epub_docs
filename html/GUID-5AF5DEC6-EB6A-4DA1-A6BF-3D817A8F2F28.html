<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-Scripting">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="modified" content="03/11/2022">
<meta name="topicid" content="GUID-5AF5DEC6-EB6A-4DA1-A6BF-3D817A8F2F28">
<meta name="language" content="CHS">
<title>阶段节点参考</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-5AF5DEC6-EB6A-4DA1-A6BF-3D817A8F2F28">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>阶段节点参考</h1></div>
</div>
</div>

<div class="body"><p class="p"> 将阶段节点链接在一起，以根据一组规则按顺序执行多个 Python 脚本。这对于创建交互式体验（如教程或导览）非常有用。有关使用阶段节点的详细信息，请参见<a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Scripting/files/GUID-D54C88C6-FD6A-46EE-A8B8-D41D83D9A3D0.htm">构建 Python 状态机</a>。
	 </p>
<div class="note note" id="GUID-5AF5DEC6-EB6A-4DA1-A6BF-3D817A8F2F28__GUID-19A656FF-485C-4BB1-9C8E-374EAE9B56FE"><span class="notetitle">注：</span> 使用阶段节点之前，请确保已通过<a class="xref" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;guid=GUID-2CF7D90B-EF10-40D1-9129-9D401CCAB952">插件管理器</a>加载 <span class="ph uicontrol">stage.py</span> 插件。
	 </div>
<div class="fig fignone" id="GUID-5AF5DEC6-EB6A-4DA1-A6BF-3D817A8F2F28__FIG_A1183D7C63C24D3387214BA3ED63C7B6"><img class="image" id="GUID-5AF5DEC6-EB6A-4DA1-A6BF-3D817A8F2F28__IMAGE_70C2A4163CC54FCB81821CF5BDB45A8C" src="../images/GUID-7F8B5A10-4DCB-445D-B83E-DDCC251FEDC3.png"></div>
<div class="section" id="GUID-5AF5DEC6-EB6A-4DA1-A6BF-3D817A8F2F28__SECTION_EDD1CAD5FFF248908DF8655CB02A72D9"><h2 class="title sectiontitle">属性参考</h2> 
		<div class="section" id="GUID-5AF5DEC6-EB6A-4DA1-A6BF-3D817A8F2F28__GUID-7A263414-43A4-4B4B-AD5C-F90C734071A7"><dl class="dl" id="GUID-5AF5DEC6-EB6A-4DA1-A6BF-3D817A8F2F28__GUID-7A263414-43A4-4B4B-AD5C-F90C734071A7"><dt class="dt dlterm"><span class="ph uicontrol">自动播放(AutoPlay)</span></dt>
<dd class="dd">启用此选项后，可在阶段处于激活状态时强制播放当前播放范围。</dd>
<dt class="dt dlterm"><span class="ph uicontrol">条件(Condition)</span></dt>
<dd class="dd">启用此选项后，可取消激活当前阶段并激活下一阶段（由<span class="ph uicontrol">“下一状态”(Next State)</span>确定）。</dd>
<dt class="dt dlterm"><span class="ph uicontrol">动画结束(End Of Animation)</span></dt>
<dd class="dd">启用此选项后，可在<span class="ph uicontrol">“时间滑块”(Time Slider)</span>到达当前播放范围的末尾时，取消激活当前阶段并激活下一阶段（由<span class="ph uicontrol">“下一状态”(Next State)</span>确定）。</dd>
<dt class="dt dlterm"><span class="ph uicontrol">激活脚本时(On Activate Script)</span></dt>
<dd class="dd">激活此阶段时要执行的 Python 脚本。</dd>
<dt class="dt dlterm"><span class="ph uicontrol">取消激活脚本时(On Deactivate Script)</span></dt>
<dd class="dd">取消激活此阶段时要执行的 Python 脚本。</dd>
<dt class="dt dlterm"><span class="ph uicontrol">前一状态(Previous State)</span></dt>
<dd class="dd">当前阶段之前的阶段节点。</dd>
<dt class="dt dlterm"><span class="ph uicontrol">下一状态(Next State)</span></dt>
<dd class="dd">当前阶段之后的阶段节点。</dd>
<dt class="dt dlterm"><span class="ph uicontrol">延时(Time Delay)</span></dt>
<dd class="dd">当前阶段自动取消激活并移动到下一阶段之前的延迟（以秒为单位）。</dd>
<dt class="dt dlterm"><span class="ph uicontrol">时间滑块书签(Time Slider Bookmark)</span></dt>
<dd class="dd">此阶段处于激活状态时框显的<a class="xref" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;guid=GUID-33171C06-EA32-419E-9E03-9F194DCDC70E">时间滑块书签(Time Slider Bookmark)</a>。</dd>
</dl>
</div>
 
	 </div>
<div class="section" id="GUID-5AF5DEC6-EB6A-4DA1-A6BF-3D817A8F2F28__SECTION_9836BB8EB779450AA8530A605EAE1E85"><h2 class="title sectiontitle">命令参考</h2> 
		 
		<p class="p">下面列出了使用阶段节点时最有用的命令。您可以在状态机所包含的 Python 脚本中调用这些命令，也可以通过<span class="ph uicontrol">“命令行”(Command Line)</span>或<span class="ph uicontrol">“脚本编辑器”(Script Editor)</span>在外部调用。
		</p>
 
		
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="GUID-5AF5DEC6-EB6A-4DA1-A6BF-3D817A8F2F28__WS73099CC142F48755-3D114B751181C40F14B2BE2" class="table" width="100%" frame="border" border="1" rules="all"><thead class="thead" align="left"><tr class="row"><th class="entry" valign="top" width="20.2045101798594%">效果 
				  </th>
<th class="entry" valign="top" width="39.8977449100703%">Python 
				  </th>
<th class="entry" valign="top" width="39.8977449100703%">MEL 
				  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" width="20.2045101798594%"> 激活阶段 
				  </td>
<td class="entry" valign="top" width="39.8977449100703%"> stage ("&lt;stage node name&gt;", e=True, a=True) 
				  </td>
<td class="entry" valign="top" width="39.8977449100703%"> stage -e -a "&lt;stage node name&gt;" 
				  </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20.2045101798594%"> 取消激活阶段（不移动到下一阶段） 
				  </td>
<td class="entry" valign="top" width="39.8977449100703%"> stage ("&lt;stage node name&gt;", e=True, d=True) 
				  </td>
<td class="entry" valign="top" width="39.8977449100703%"> stage -e -d "&lt;stage node name&gt;" 
				  </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20.2045101798594%"> 取消激活所有阶段（如果您不确定哪个阶段当前处于活动状态） 
				  </td>
<td class="entry" valign="top" width="39.8977449100703%"> stage (da=True) 
				  </td>
<td class="entry" valign="top" width="39.8977449100703%">stage -da 
				  </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20.2045101798594%"> 取消激活当前阶段并激活下一阶段 
				  </td>
<td class="entry" valign="top" width="39.8977449100703%">stage("&lt;stage node name&gt;", e=True, n=True) 
				  </td>
<td class="entry" valign="top" width="39.8977449100703%"> stage -e -n "&lt;stage node name&gt;" 
				  </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20.2045101798594%"> 取消激活当前阶段并激活上一阶段 
				  </td>
<td class="entry" valign="top" width="39.8977449100703%">stage("&lt;stage node name&gt;", e=True, p=True) 
				  </td>
<td class="entry" valign="top" width="39.8977449100703%"> stage -e -p "&lt;stage node name&gt;" 
				  </td>
</tr>
</tbody>
</table>
</div>
 
	 </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Scripting/files/GUID-D54C88C6-FD6A-46EE-A8B8-D41D83D9A3D0.htm">构建 Python 状态机</a></div>
</div>
</div>

</body>
</html>
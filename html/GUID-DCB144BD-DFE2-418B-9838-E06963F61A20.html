<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-MotionGraphics">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="contextid" content="MASH_PYTHON">
<meta name="modified" content="13/11/2021">
<meta name="topicid" content="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20">
<meta name="language" content="CHS">
<title>Python</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>Python</h1></div>
</div>
</div>

<div class="body"><p class="p"> 允许您创建 Python 脚本以影响 MASH 网络。创建新的 Python 节点时，默认脚本将自动继承编辑器，该编辑器将 MASH 网络数据读取至一个“md”的类中。 
	 </p>
<div class="p"> 
	 <p class="li listintro">查询属性列表如下所示： </p>
<ul class="ul" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__UL_99DE43B691D443D5A6B0A2BF80824CDD"><li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_D36EC3DC01344FC5B5D9D5E5015B3FF2">position 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_13B9FA9AAB844B24A8533A8A5F651703">scale 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_052C586F0B7644C5B60A66510D72C4DE">rotation 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_42AB396C8FCB4CE9A85E1896972F2F6D">id 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_5AFB8BD3C2A645F48BEF7EBC0B7DA6B2">visibility 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_71466DD5FE744D9E8FAD09BE2F2175E0">angular velocity 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_E32765AB2D944EE4BFC4C574D38AD4CA">vector velocity 
		</li>
</ul>
 
	 </div>
<div class="p">例如，若要查询 MASH 网络中第五个对象的位置，则可使用以下代码： 
		<pre class="pre codeblock">md.position[5]</pre>
 
	 </div>
<div class="p">您还可以查询特定的轴。例如，若要仅查询 x 轴，则可使用以下代码： 
		<pre class="pre codeblock">md.position[5].x</pre>
 
	 </div>
<div class="note note" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__GUID-7D729146-A064-4991-B4D9-F624ABD6B0CA"><span class="notetitle">注：</span> ID 和 Visibility 数组将作为双精度存储。 
	 </div>
<div class="p"> 
	 <p class="li listintro">用于编写的属性列表如下所示： </p>
<ul class="ul" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__UL_1022EB9431F5488F81E8954F6130D107"><li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_4857D3D8A64C4D5CA10DA3A406B82F6E">outPosition 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_863D37E626C743F9BD6423A115A97653">outScale 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_84F9B1C3E2FF435F92B5BD1CB8866F19">outRotation 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_11601BCF44D543709FC675841D6B637F">outId 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_907B23AC96B84860BBFDFD31EBA0AEF7">outVisibility 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_1F4F7F682A4F4122A4BB09FD06B67FAE">angularVelocity 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_5A8F95EE6E10402D9BD7469F2BD75DB4">velocityVec 
		</li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_7E5541A188C24938A9504DDD97914612">angularVelocityVec 
		</li>
</ul>
 
	 </div>
<div class="p">例如，若要设置第五个对象的 Y 位置，则可以使用以下代码： 
		<pre class="pre codeblock">outPosition[5].y = 5</pre>
 
	 </div>
<div class="p">或者，若要使同一对象不可见，请执行以下操作： 
		<pre class="pre codeblock">outVisibility[5] = 0</pre>
其中，值 1 表示可见；值 0 表示不可见。 
	 </div>
<div class="section" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__SECTION_C158098353C6484B9B156624CC05E167"><h2 class="title sectiontitle">辅助对象函数</h2> 
		 
		<p class="p">以下是列表中的内置辅助对象函数以使特定任务的速度更快。 
		</p>
<div class="section" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__GUID-C203AA52-7584-4F75-936D-6A282E485DEE"><dl class="dl" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__GUID-C203AA52-7584-4F75-936D-6A282E485DEE"><dt class="dt dlterm"> 
		<span class="ph uicontrol">count()</span> </dt>
<dd class="dd">返回 MASH 点数。</dd>
<dt class="dt dlterm"> 
		<span class="ph uicontrol">getFrame()</span> </dt>
<dd class="dd">返回当前帧编号。</dd>
<dt class="dt dlterm"> 
		<span class="ph uicontrol">getFalloffsCount</span> </dt>
<dd class="dd"> 返回数字的衰减对象连接到该 Python 节点。</dd>
<dt class="dt dlterm"> 
		<span class="ph uicontrol">getFalloff(int index)</span> </dt>
<dd class="dd">从指定的衰减对象中返回强度列表。 
		<div class="p">例如，若要查询第一个衰减对象的强度数组，则可使用以下代码： 
		  <pre class="pre codeblock"> fallofs=md.getFalloff(0)</pre>
 
		</div>
 
		<div class="p">然后，可以使用以下代码将衰减强度应用于点位置： 
		  <pre class="pre codeblock">for i in range(count):
md.outPosition[i].x=md.position[i].x*fallofs[i]
md.outPosition[i].y=md.position[i].y*fallofs[i]
md.outPosition[i].z=md.position[i].z*fallofs[i]</pre>
 
		</div>
</dd>
<dt class="dt dlterm"> 
		<span class="ph uicontrol">getVectorArray(string channelName)、getDoubleArray(string channelName)、getIntArray(string channelName)</span> </dt>
<dd class="dd">返回在参数中指定作为相关类型数组的通道的值。</dd>
<dt class="dt dlterm"> 
		<span class="ph uicontrol">setVectorArray(string channelName, array)、setDoubleArray(string channelName, array)、setIntArray(string channelName, array)</span> </dt>
<dd class="dd">设置在参数中使用指定数组值来指定的通道的值。</dd>
<dt class="dt dlterm"> 
		<span class="ph uicontrol">getMatrix(int id)</span> </dt>
<dd class="dd">返回 ID 指定的点的变换矩阵。</dd>
<dt class="dt dlterm"> 
		<span class="ph uicontrol">setMatrix(matrix, int id)</span> </dt>
<dd class="dd">将指定的矩阵设置为 ID 指定的点。</dd>
</dl>
</div>
 
	 </div>
<div class="section" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__SECTION_62FC3A831ED74A5BBEE7A9ED57DB0D2A"><h2 class="title sectiontitle">高级函数</h2> 
		 
		<p class="p">Python 节点具有 inputPoints 和 outputPoints 属性允许添加手动 Waiter 和 MASH_Repro 之间的节点。利用这些属性，您可以访问以下数组。 
		</p>
 
		<p class="li listintro">输入</p>
<ul class="ul" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__UL_0A57F408A5B844DA8217092434F77887"><li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_94E4B42838F2451C951A1BC7B0ADA360">color 
		  </li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_2E160B23BEC849B7BCB9684AD7238B93">uvTile 
		  </li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_D16A47310A21417BBD99E35555FDA86C">frame 
		  </li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_BD1BF65B87B244C4BA72D568FC638A08">isAnimated 
		  </li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_6C4723922A184E4984A2882351B89E45">velocity 
		  </li>
</ul>
 
		<p class="li listintro">输出</p>
<ul class="ul" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__UL_C0D9756343CD409FA5764334A0466863"><li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_212CCFC4C316486DA6D292E520BE906D">outColor 
		  </li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_D98E587F23564603951FBF2BDEDF40F8">outUvTile 
		  </li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_6D889542E9F644BA9B8AA70AC93CF970">outFrame 
		  </li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_B56FEA71CDA14B0990F9C4AB9C4A6819">outIsAnimated 
		  </li>
<li class="li" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__LI_0B7DFE03BDD94D9BB8B9300D6C8F3233">outVelocity 
		  </li>
</ul>
 
	 </div>
<div class="section" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__SECTION_A89DFED0F5EF49C982CFFCC36CD4E19C"><h2 class="title sectiontitle">强度</h2> 
		 
		<div class="section" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__GUID-EBB32BBD-3386-487C-BE46-81386773EFD3"><dl class="dl" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__GUID-EBB32BBD-3386-487C-BE46-81386773EFD3"><dt class="dt dlterm"> 
		<span class="ph uicontrol">强度(Strength)</span> </dt>
<dd class="dd">同时减弱对所有点的节点效果。</dd>
<dt class="dt dlterm"> 
		<span class="ph uicontrol">随机强度(Random Strength)</span> </dt>
<dd class="dd"> 按随机顺序平滑地减弱所有点的节点效果。</dd>
<dt class="dt dlterm"> 
		<span class="ph uicontrol">阶跃强度(Step Strength)</span> </dt>
<dd class="dd"> 每次禁用一个点的节点效果。</dd>
<dt class="dt dlterm"> 
		<span class="ph uicontrol">强度贴图(Strength Map)</span> </dt>
<dd class="dd">确定输入文件（2D 纹理、动画纹理等）来控制该节点的效果的形状。</dd>
<dt class="dt dlterm"> 
		<span class="ph uicontrol">贴图投影轴(Map Projection Axis)</span> </dt>
<dd class="dd">确定投影<span class="ph uicontrol">“强度贴图”(Strength Map)</span>时所沿的轴。</dd>
<dt class="dt dlterm"> 
		<span class="ph uicontrol">贴图辅助对象(Map Helper)</span> </dt>
<dd class="dd">显示用于在场景中交互放置<span class="ph uicontrol">“强度贴图”(Strength Map)</span>的对象。可以在该字段上单击鼠标右键来创建新的辅助对象（平面）（如果不存在）。还可以使用鼠标中键将网格拖入此字段，或者单击鼠标右键连接选定网格。如果网格已连接，还可以单击鼠标右键来断开其连接或者将其显示在大纲视图中。 
		<div class="note note" id="GUID-DCB144BD-DFE2-418B-9838-E06963F61A20__GUID-7E14B76B-7174-4E09-8D64-E8AF9C90A423"><span class="notetitle">注：</span> 为获得最佳结果，请将相同的纹理指定给<span class="ph uicontrol">“强度贴图”(Strength Map)</span>和<span class="ph uicontrol">“贴图辅助对象”(Map Helper)</span>（在创建新的辅助对象时将自动执行此操作）。 
		</div>
</dd>
</dl>
</div>
 
	 </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-MotionGraphics/files/GUID-D4FECFDC-F91A-4BDC-A1B0-A24EB087B2DD.htm">MASH 节点概述</a></div>
</div>
</div>

</body>
</html>
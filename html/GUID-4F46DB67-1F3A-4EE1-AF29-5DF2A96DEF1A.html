<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-Scripting">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="topicid" content="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A">
<meta name="language" content="CHS">
<title>断开属性</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>断开属性</h1></div>
</div>
</div>

<div class="body"><p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-9A2"> 如果从表达式断开属性，表达式将不再读取或设定属性值。例如，在需要对属性设定关键帧，而不是使用表达式进行控制的时候，可能就需要断开属性。 
	 </p>
<p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-99F">通过如下操作可从表达式断开属性：
	 </p>
<ul class="ul" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-99E"><li class="li" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-99D">从场景中删除具有表达式所包含属性的对象。
		</li>
<li class="li" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-99C">使用<a class="xref" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;guid=GUID-2622D368-1DD5-45BA-9560-93626A5751FD">连接编辑器(Connection Editor)</a>（<span class="ph menucascade"><span class="ph uicontrol">“窗口</span> &gt; <span class="ph uicontrol">常规编辑器</span> &gt; <span class="ph uicontrol">连接编辑器”(Windows &gt; General Editors &gt; Connection Editor)</span></span>）从表达式断开属性。
		</li>
<li class="li" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-99B"> 使用 MEL <samp class="ph codeph"><a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Tech-Docs/Commands/disconnectAttr.html" target="_blank">disconnectAttr</a></samp> 命令。
		</li>
<li class="li" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-999"> 使用 MEL <samp class="ph codeph"><a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Tech-Docs/Commands/choice.html" target="_blank">choice</a></samp> 命令。 
		  <div class="note tip" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-997"><span class="tiptitle">提示：</span> choice<samp class="ph codeph"></samp> 这种 MEL 命令可用于在不同的帧中使用两种或多种方法交替控制属性。例如，可以为帧 1-48 设定属性关键帧，为帧 48-96 使用表达式控制属性，并为后续帧使用运动路径控制属性。 
		  </div>

		</li>
</ul>
<div class="section" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-996"><h2 class="title sectiontitle">在表达式中显示已断开属性</h2> 
		 
		<p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-995"> <span class="ph uicontrol" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__GUID-0A39C95C-BB97-47C1-A701-15AFEEF79238">“表达式编辑器”(Expression Editor)</span>将显示已断开属性，并带有一个符号占位符，以表示该属性先前存在于表达式中。
		</p>
 
		<div class="section" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-992"><h3 class="title sectiontitle">示例</h3> 
		   
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-991">假定场景中包含两个对象（球和圆锥体），且您已编写以下表达式：
		  </p>
 
		  <pre class="pre codeblock">
Ball.translateX = Cone.translateX;
Ball.translateY = Cone.translateY;
Ball.translateZ = Cone.translateZ;
</pre>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-990">如果从场景中删除圆锥体，则 Cone.translateX、Cone.translateY 和 Cone.translateZ 属性不再存在，表达式不再读取这些属性，也不再将其指定给球的 translateX、translateY 和 translateZ 属性。 
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-98F">如果再次显示表达式，表达式将如下所示：
		  </p>
 
		  <pre class="pre codeblock">
Ball.translateX = .I[0];
Ball.translateY = .I[1];
Ball.translateZ = .I[2];
</pre>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-98E">.I[0]、.I[1] 和 .I[2] 字符代表已从表达式断开圆锥体的平移属性。这些符号表示表达式中属性先前使用的占位符。 
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-98D"> .I 意味着该占位符代表一个表达式输入。表达式的输入是带有值的属性，表达式将读取该属性值以指定给另一属性或变量。括号中的数字代表读取属性的表达式中的顺序。
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-98B"> 例如，.I[0] 代表该输入是表达式读取的第一个属性；.I[1] 代表该输入是表达式读取的第二个属性；.I[2] 代表该输入是表达式读取的第三个属性。 
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-989">浮点或整型属性占位符具有值 0。粒子形状节点的向量属性占位符具有值 &lt;&lt;0,0,0&gt;&gt;。在该示例中，占位符 .I[0]、.I[1], 和 I[2] 都具有值 0。执行表达式时，它将值 0 指定给 Ball.translateX、Ball.translateY 和 Ball.translateZ。 
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-988">如果从表达式断开属性，但属性仍存在于场景中，则属性将从上次表达式的执行中保留值并设定其值。
		  </p>
 
		</div>
 
		<div class="section" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-987"><h3 class="title sectiontitle">示例</h3> 
		   
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-986">假设已写完语句中的这些语句：
		  </p>
 
		  <pre class="pre codeblock">
Ball.translateX = Cone.translateX;
Ball.translateY = Cone.translateY;
Ball.translateZ = Cone.translateZ;
</pre>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-985">如果从场景中删除球，则 Ball.translateX、Ball.translateY 和 Ball.translateZ 属性将不再存在。表达式不再将圆锥体的 translateX、translateY 和 translateZ 值指定给相应的球属性。 
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-984"> 符号占位符替换表达式中的球属性。如果再次显示表达式，语句将如下所示：
		  </p>
 
		  <pre class="pre codeblock">
.O[0] = Cone.translateX;
.O[1] = Cone.translateY;
.O[2] = Cone.translateZ;
</pre>
 
		  <div class="note note" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-982"><span class="notetitle">注：</span> 如果表达式将值仅指定给一个对象的属性，删除对象也将删除表达式。如果表达式将值指定给多个对象属性的属性，删除所有这些对象将删除表达式。
			 <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-980">若要避免删除之前示例中的表达式，则需要具有设定对象属性而非已删除球属性的某些语句。例如，可能会包括该语句：
			 </p>

			 <pre class="pre codeblock">
Cone.visibility = 1;
</pre>

		  </div>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-97F"> .O[0] 字符代表已从表达式断开属性 Ball.translateY。.O 表示的占位符代表来自表达式的输出。 
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-97D">来自表达式的输出是通过表达式指定值的属性。括号中的数字（例如，[0]）代表表达式中为属性指定值的顺序。 
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-97C">因为 Ball.translateX 是来自表达式的第一个输出，所以表达式使用 .O[0] 进行替换。该表达式将使用 .O[1] 和 .O[2] 替换 Ball.translateY 和 Ball.translateZ，因为它们是来自表达式的第二个和第三个输出。 
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-97B">执行表达式时，表达式会继续将值指定给占位符，尽管占位符不会对任何对象或场景组件产生影响。
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-97A">表达式将 Cone.translateX、Cone.translateY 和 Cone.translateZ 的值指定给占位符 .O[0]、.O[1] 和 .O[2]，但这些占位符不会控制场景中的任何内容。语句不产生任何影响。
		  </p>
 
		</div>
 
	 </div>
<div class="section" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-979"><h2 class="title sectiontitle">将属性连接到符号占位符</h2> 
		 
		<p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-978"> 从表达式断开属性后，符号占位符将按之前主题所述那样替换表达式中的该属性。可以使用选择的属性替换占位符。 
		</p>
 
		<p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-976">最直接的方法就是在表达式中每次出现符号占位符时，都键入所需的属性名称。 
		</p>
 
		<p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-975"> 如果一个冗长的表达式中具有大量的符号占位符，则可以使用一条 MEL <samp class="ph codeph"><a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Tech-Docs/Commands/connectAttr.html" target="_blank">connectAttr</a></samp> 命令将新属性连接到同一符号占位符的所有出现位置。也可以使用<a class="xref" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;guid=GUID-2622D368-1DD5-45BA-9560-93626A5751FD">连接编辑器(Connection Editor)</a>（<span class="ph menucascade"><span class="ph uicontrol">“窗口</span> &gt; <span class="ph uicontrol">常规编辑器</span> &gt; <span class="ph uicontrol">连接编辑器”(Windows &gt; General Editors &gt; Connection Editor)</span></span>）。
		</p>
 
		<div class="section" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-973"><h3 class="title sectiontitle">示例 1</h3> 
		   
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-972">假设在名为 HorseController 的表达式中，已有语句中的这些语句：
		  </p>
 
		  <pre class="pre codeblock">
WhiteHorse.translateX = Car.translateX;
BlackHorse.translateX = Car.translateX;
BrownHorse.translateX = Car.translateX;
</pre>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-971">删除汽车并重新加载表达式，此时将显示：
		  </p>
 
		  <pre class="pre codeblock">
WhiteHorse.translateX = .I[0];
BlackHorse.translateX = .I[0];
BrownHorse.translateX = .I[0];
</pre>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-970">.I[0] 是显示 Car.translateX 属性内容的符号占位符。可以将不同的属性连接到该占位符，以便将其内容指定给 WhiteHorse、BlackHorse 和 BrownHorse 的 translateX 属性。 
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-96F">假设要使用名为 Cow 的对象的 translateX 属性控制这些属性。可以在<span class="ph uicontrol" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__GUID-076970C8-AAA3-46BF-8818-FC94B39D1972">“命令行”(Command Line)</span>中输入下列 Maya 命令：
		  </p>
 
		  <pre class="pre codeblock">
connectAttr Cow.tx HorseController.input[0]
</pre>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-96E">该命令将属性 Cow.tx 连接到表达式的 input[0]。表达式名为 HorseController。input[0] 在表达式中缩写为 .I[0]。可以在<span class="ph uicontrol" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__GUID-D2AEAA6E-00C9-44A6-B3AC-BDD75A30DE39">“Hypergraph”</span>的<span class="ph uicontrol" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__GUID-81D9363B-AE28-41C8-A422-76DE079F719D">“图表 &gt; 输入和输出连接”(Graph &gt; Input and Output Connections)</span>中查看拼出的输入名称 input[0]。
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-96D">重新加载表达式将显示新的属性连接：
		  </p>
 
		  <pre class="pre codeblock">
WhiteHorse.translateX = Cow.translateX;
BlackHorse.translateX = Cow.translateX;
BrownHorse.translateX = Cow.translateX;
</pre>
 
		</div>
 
		<div class="section" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-96C"><h3 class="title sectiontitle">示例 2</h3> 
		   
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-96B">也可以使用 <samp class="ph codeph"><a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Tech-Docs/Commands/connectAttr.html" target="_blank">connectAttr</a></samp> 命令重新连接表达式输出。假设在名为 HorseController 的表达式中，已有语句中的这些语句：
		  </p>
 
		  <pre class="pre codeblock">
WhiteHorse.translateX = Car.translateX;
BlackHorse.translateX = Car.translateX;
BrownHorse.translateX = Car.translateX;
</pre>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-96A">删除 BrownHorse 对象并重新加载表达式，此时将显示：
		  </p>
 
		  <pre class="pre codeblock">
WhiteHorse.translateX = Car.translateX;
BlackHorse.translateX = Car.translateX;
.O[2] = Car.translateX;
</pre>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-969">.O[2] 是显示 BrownHorse.translateX 属性内容的符号占位符。该属性接收了占位符 .O[2]，因为该占位符是表达式的第三个输出。（第一个和第二个输出来自表达式 .O[0] 和 .O[1]）。可以将不同的属性连接到该占位符，以便使用 Car.translateX 的值控制该占位符，正如第三个语句所示。 
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-968">假设要使用 Car.translateX 值控制名为 RedHorse.translateX 的新对象的属性。可以在<span class="ph uicontrol" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__GUID-8A97AD9A-4FFF-44E0-911C-795796255CC6">“命令行”(Command Line)</span>中输入下列 Maya 命令：
		  </p>
 
		  <pre class="pre codeblock">
connectAttr HorseController.output[2] RedHorse.tx
</pre>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-967">该命令将 HorseController 表达式的 output[2] 连接到属性 RedHorse.tx。output[2] 在表达式中缩写为 .O[2]。 
		  </p>
 
		  <p class="p" id="GUID-4F46DB67-1F3A-4EE1-AF29-5DF2A96DEF1A__WS73099CC142F48755-3D114B7511841AEFA9F-966">重新加载表达式将显示新的属性连接：
		  </p>
 
		  <pre class="pre codeblock">
WhiteHorse.translateX = Cow.translateX;
BlackHorse.translateX = Cow.translateX;
RedHorse.translateX = Cow.translateX;
</pre>
 
		</div>
 
	 </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-Scripting/files/GUID-B0A92424-8666-4669-97D7-B16F718FA3FD.htm">高级动画表达式主题</a></div>
</div>
</div>

</body>
</html>
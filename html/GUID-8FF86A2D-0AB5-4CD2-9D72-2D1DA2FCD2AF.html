<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-SimulationEffects">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="topicid" content="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF">
<meta name="language" content="CHS">
<title>添加灯光、反射、折射和阴影</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>添加灯光、反射、折射和阴影</h1></div>
</div>
</div>

<div class="body" id="WS73099CC142F48755-2231E4B3128F27EE529-331C"><p class="p" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-359B"> 照明效果是动画的一个基本元素。可以使用几种常用于常规曲面的照明技术渲染粒子。 
	 </p>
<div class="section" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS17956D7ADBC6E7361A342C07117AE3124CC-7FD3"><h2 class="title sectiontitle">添加反射、折射和阴影 </h2> 
		 
		<p class="p" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3599"> 对“云”、“管状体”和“滴状曲面”进行软件渲染时，可以启用反射、折射和阴影。 
		</p>
 
		<p class="li listintro" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3592">启用反射、折射和阴影</p>
<ol class="ol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3593"><li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3591">选择粒子对象。 
		  </li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3590"> 在<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-E68E4310-29EC-4A3B-9FF3-3B8B649A8F2F">“属性编辑器”(Attribute Editor)</span>的<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-4C586931-24E1-41D1-B295-A2BFA3EAAB6B">“渲染统计信息”(Render Stats)</span>区域中，启用： 
			 <ul class="ul" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-358E"><li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-358D"> 
				  <span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-BD7F9EDC-8FAE-4793-A328-D1CC5D441061">在反射中可见(Visible In Reflections)</span> 
				</li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-358B"> 
				  <span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-40C7CF0E-F8C9-4A01-BBC7-4BA3980BA55D">在折射中可见(Visible In Refractions)</span> 
				</li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3589"> 
				  <span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-E55385EA-12BD-4AF9-A330-B8A1562A6B2E">投射阴影(Casts Shadows)</span> 
				</li>
</ul>
 
			 <p class="p" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3587">必须使用光线跟踪来创建反射和折射。可以使用光线跟踪或深度贴图阴影来创建阴影。有关详细信息，请参见“渲染”。 
			 </p>
 
			 <div class="note tip" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3586"><span class="tiptitle">提示：</span> 如果已在场景中创建了云、管状体或滴状曲面，并且当前未使用它们，则可通过选择粒子对象并禁用<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-297A58BB-B2FF-47FE-AFE5-225627CFC29A">“主可见性”(Primary Visibility)</span>来加快软件测试渲染的速度。 
			 </div>
 
		  </li>
</ol>
 
	 </div>
<div class="section" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS17956D7ADBC6E7361A342C07117AE3124CC-7FD2"><h2 class="title sectiontitle">将灯光与移动的粒子一起使用</h2> 
		 
		<p class="p" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3584"> 默认情况下，所有粒子将均匀地照亮，而与场景中放置灯光的位置无关。为了某些效果，可能需要将移动的粒子漂移到照明中或从照明中漂移出去，在没有照明时消失。 
		</p>
 
		<p class="p" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3581">例如，可能希望雪茄烟雾在灯下升起的景象仅当它穿过照明时才显示。或者，可能希望雨仅在从路灯下经过或在车前灯前面时才显示。 
		</p>
 
		<p class="p" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3580"> 如果使用<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-2BF56A39-4A45-4772-AD4C-0808496E07DE">“条纹”(Streak)</span>、<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-C4958042-9FB1-429F-8E9D-2833E86D0544">“点”(Point)</span>、<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-D91B3BAF-A8C9-4064-9E6A-AF992C03425A">“多条纹”(MultiStreak)</span>和<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-E279E006-29B2-4801-B09A-62CD05BA1269">“多点”(Multipoint)</span>渲染类型，可以使用灯光来创建这些效果。 
		</p>
 
		<p class="li listintro" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-357D">将场景照明与粒子一起使用</p>
<ol class="ol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-357E"><li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-357C">将聚光灯、点光源或平行光添加到场景中。聚光灯会产生最明显的效果。有关添加灯光的详细信息，请参见<a class="xref" href="https://beehive.autodesk.com/community/service/rest/cloudhelp/resource/cloudhelpchannel/guidcrossbook/?v=2025&amp;p=MAYAUL&amp;l=CHS&amp;accessmode=live&amp;guid=GUID-A0B3AA95-327B-4D65-B26D-AA42D0008824">创建 Maya 光源</a>。 
		  </li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-357B">将灯光对准粒子。 
		  </li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-357A">选择<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-308B4032-4D03-46E3-8269-9EF31BCEE183">“照明 &gt; 使用所有灯光”(Lighting &gt; Use All Lights)</span>。 
		  </li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3579">选择<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-345BB7D3-5ED9-4ECD-8E2A-B1D7724A56EE">“着色 &gt; 对所有项目进行平滑着色处理”(Shading &gt; Smooth Shade All)</span>。 
		  </li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3578">选择要照亮的粒子对象。 
		  </li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3577">在<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-25A9EA4B-5ABE-42B2-91C4-1B3056E4B7F5">“属性编辑器”(Attribute Editor)</span>中，将<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-9AC10E14-3AE2-4B8D-B71B-E8E299B8999B">“粒子渲染类型”(Particle Render Type)</span>设定为<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-2DDF2759-EDE5-45CB-AFD1-ADD28616C0F7">“条纹”(Streak)</span>、<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-02517D12-6CB1-4057-8E50-3674F550D92D">“点”(Point)</span>、<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-5848F221-E85F-4FFF-8C70-64C39C42CADB">“多条纹”(MultiStreak)</span>或<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-542B9430-4B2A-4520-A27D-272E22323D56">“多点”(Multipoint)</span>。 
		  </li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3576">单击<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-8DF1A068-7D8B-4EF6-818E-2CFD0BF6EFB0">“为当前渲染类型添加属性”(Add Attributes For Current Render Type)</span>按钮。 
			 <p class="p" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3575">在<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-D175BA22-76C5-4B22-9C39-B27C019AB0C5">“属性编辑器”(Attribute Editor)</span>中会显示默认渲染属性。 
			 </p>
 
		  </li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3574"> 在<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-2B585AF4-F4B1-4DF4-B25B-A072B4435535">“渲染属性”(Render Attributes)</span>区域中，启用<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-0E776BC7-57EF-4C5E-9352-1C2DB224AFC9">“使用照明”(Use Lighting)</span>。 
		  </li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3572">若要最大化粒子照明，请按如下方式设定<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-3383F7E5-A939-46EA-844F-0BBAC9FD37A6">“法线方向”(Normal Dir)</span>： 
			 <ul class="ul" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3571"><li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3570">如果大多数或所有粒子朝向灯光移动，请设定为 1。示例：朝向灯光上升的烟雾。 
				</li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-356F">如果大多数或所有粒子是静止的，或从灯光前面经过，请设定为 2。示例：从前灯前面经过的雨，或围绕点光源创建辉光的静止粒子。 
				</li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-356E">如果大多数或所有粒子正在远离灯光，请设定为 3。示例：向下掉落经过路灯的雨。 
				</li>
</ul>
 
		  </li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-356D">在<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-1B0B375E-EAA6-4782-B7D2-36907C2F069E">“硬件渲染缓冲区”(Hardware Render Buffer)</span>窗口中，选择<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-2F08259D-FA4F-4267-B87B-208FFB3C8DD6">“渲染 &gt; 属性”(Render &gt; Attributes)</span>。 
		  </li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-356C">在<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-12976684-E679-445D-91F0-C73CC0CA3A18">“属性编辑器”(Attribute Editor)</span>的<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-97E3E0DC-C1D7-4FD7-87AB-C99FF7465F9C">“渲染模式”(Render Modes)</span>区域中，从<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-A4E997DE-064F-422B-A7CB-A4CE60828532">“照明模式”(Lighting Mode)</span>下拉菜单中选择<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-FED7C014-F790-4B5A-AC72-20C0E30875EF">“所有灯光”(All Lights)</span>。 
		  </li>
<li class="li" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-356B">对场景进行硬件渲染以查看效果。 
			 <div class="note note" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-356A"><span class="notetitle">注：</span> 有时，在硬件渲染器中查看时，未照亮的粒子可能比照亮的粒子显得更亮。若要解决该问题，请用小半径球体替换粒子类型。 
			 </div>
 
			 <div class="fig fignone" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3569"><img class="image" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__IMAGE_E15AFE2A59B74FC7A7106C02C090E37C" width="235" height="213" src="../images/GUID-0130F1A2-A1BA-44EF-AF57-350D3F55D86D.png"></div>
 
			 <div class="note tip" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-3568"><span class="tiptitle">提示：</span> 如果未按预期照亮粒子，请确保灯光指向粒子。另外，请定位并旋转摄影机，以便从灯光背后查看粒子。由于更改<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-171A5B93-EFC6-452C-8115-7C06BFA68DA1">“法线方向”(Normal Dir)</span>设置很方便，所以简单地尝试每个设置并查看哪个效果最好通常是最快的。如果<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-C758F2A9-8358-4716-B3E0-9854068481B6">“法线方向”(Normal Dir)</span>设定为 1 或 3 时使用静止粒子，则不会显示这些粒子。 
			 </div>
 
		  </li>
</ol>
 
	 </div>
<div class="section" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__SECTION_300864C96511466395C16FC6EBF7FD18"><h2 class="title sectiontitle">将阴影投射应用到粒子</h2> 
		 
		<p class="p" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__WS1A9193826455F5FF-6D855556117FACF922E-2FDC"> Maya 支持硬件渲染的粒子类型（如<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-E516B6CA-0C20-44EA-947B-EF142480F417">“点”(Point)</span>、<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-81FAB441-8B60-4BC3-A28C-E31844EED063">“多点”(MultiPoint)</span>和<span class="ph uicontrol" id="GUID-8FF86A2D-0AB5-4CD2-9D72-2D1DA2FCD2AF__GUID-DFF0F445-D53E-40BF-8F62-AFD0FD77C3F2">“球体”(Sphere)</span>）的阴影投射。这些粒子也会将阴影投射到自身上（自身阴影）。由于深度贴图的分辨率有限，粒子可能会投射粗糙或像素化的阴影。 
		</p>
 
	 </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-SimulationEffects/files/GUID-92F7E67E-CBE4-490D-A30F-5F0A43795AED.htm">渲染和照明 nParticle</a></div>
</div>
</div>

</body>
</html>
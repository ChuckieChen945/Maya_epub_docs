<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-SimulationEffects">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="topicid" content="GUID-2D87AB7E-488B-4254-8C75-0847FC617855">
<meta name="language" content="CHS">
<title>替换 nCache</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>替换 nCache</h1></div>
</div>
</div>

<div class="body" id="WS73099CC142F48755-2231E4B3128F27EE529-231A"><p class="p" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-270B"> 您可以将整个 nCache 文件替换为新模拟，也可以有计划地替换 nCache 文件中的各缓存帧。例如，通过重新模拟特定帧并仅替换 nCache 文件中的这些特定帧，可以改善对象缓存的模拟。 </p>
<p class="li listintro" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-2709">替换 nCache</p>
<ol class="ol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS17956D7ADBC6E73663A80FF3117AE32A9C8-7FDF"><li class="li" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-2708">选择要用于替换缓存的对象。 <div class="note note" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-2707"><span class="notetitle">注：</span> 
<p class="p" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-29AE5521-0325-4E98-8169-CB21B76D4109">无法将 nCache 替换为已启用多个缓存的对象。 </p>

</div>
 </li>
<li class="li" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-2706">根据对象类型，在 <span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-CDFA94BB-705D-4641-85CF-7FD0E607A9FE">FX</span> 菜单集中执行以下操作之一： <ul class="ul" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS73099CC142F48755-471CC4BD11960D8A16C-2CE"><li class="li" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS73099CC142F48755-471CC4BD11960D8A16C-2CD">对于 Nucleus 对象，选择<span class="ph menucascade" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-FA9E33D7-D08A-45D1-A5B8-E4B21B7833FB"><span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-D2F89631-E976-4095-90C6-3EDFD0C5F3C1">“nCache</span> &gt; <span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-AE8EDAC5-0FF1-4F00-8A0D-06433A400851">替换缓存 </span> &gt; <span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-17F6D5D1-D815-4574-B6BA-00F763D056EA">nObject”(nCache &gt; Replace Cache &gt; nObject)</span></span>。 </li>
<li class="li" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS73099CC142F48755-471CC4BD11960D8A16C-2CC">对于流体对象，<span class="ph menucascade" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-5121C616-8058-4ACF-8D24-948C45C457F5"><span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-5968820B-49C6-4DA6-8673-93827C60949F">“nCache</span> &gt; <span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-8C13DDDD-BCA2-41E0-B31D-03A9DF5F1940">替换缓存 </span> &gt; <span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-65B54C84-9383-411F-82BB-0A1F471D260F">Maya 流体”(nCache &gt; Replace Cache &gt; Maya Fluid)</span></span> </li>
</ul>
 </li>
<li class="li" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-2705">（可选）如果在<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-033B62DC-23A1-4E81-B921-6F750B174982">“替换 nCache 选项”(Replace nCache Options)</span>或<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-1F7F09B4-2477-4D4B-AE04-A535D7DD74A5">“替换流体 nCache 选项”(Replace Fluid nCache Options)</span>窗口指定的目录中已存在相同名称的 nCache 文件，将显示<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-118BB5EA-E964-4D14-B9C2-71503C9A01CB">“创建缓存警告”(Create Cache Warning)</span>消息。 <p class="p" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-2704">执行下列操作之一： </p>
 <ul class="ul" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-2703"><li class="li" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-2702">单击<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-6E883222-75EB-4423-8BA2-2EE663BDAB0D">“重命名”(Rename)</span>，更改要创建的替换缓存的名称。此时将显示<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-1FE36135-9ADF-46E8-99A0-DC183EA1A5B1">“替换 nCache 选项”(Replace nCache Options)</span>或<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-575CA7A3-2667-419B-8C79-8A538E0FCFD3">“替换流体 nCache 选项”(Replace Fluid nCache Options)</span>窗口。在<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-96C782CD-0C43-4E3B-950C-9EA2345307BF">“缓存名称”(Cache Name)</span>字段中键入替换缓存的新名称，然后单击<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-6F28D792-A287-42AE-B891-D35007336CB0">“替换”(Replace)</span>。 </li>
<li class="li" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-2701">单击“自动重命名”，创建新的 nCache 文件。新的缓存文件将保存到磁盘上的新文件夹中，对象的当前 nCache 文件从其缓存节点分离，新的 nCache 文件附加到对象的缓存节点。 </li>
<li class="li" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-2700">单击<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-A9C3F686-7E44-489E-98E5-EC4A17FE3529">“取消”(Cancel)</span>，退出<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-F05D514C-A05E-419C-9891-021DFE55C481">“替换缓存”(Replace Cache)</span>操作。 </li>
<li class="li" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-26FF">单击<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-85893E67-964D-4018-899B-50F43F9EB971">“替换现有文件”(Replace Existing)</span>，创建新的 nCache 文件。磁盘上的对象当前 nCache 文件替换为新的模拟，新的 nCache 文件附加到对象的缓存节点。 </li>
</ul>
 <p class="p" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-26FE">模拟完成后，将为选定对象创建缓存，用于替换<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-66131144-809F-4FEA-AFF8-9B48BC8E2948">“替换 nCache 选项”(Replace nCache Options)</span>或<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-1A9DB660-4368-4B62-A9FC-309A077BD685">“替换流体缓存选项”(Replace Fluid Cache Options)</span>窗口中指定的时间范围内的当前缓存。 </p>
 </li>
</ol>
<p class="li listintro" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-26FD">替换 nCache 帧</p>
<ol class="ol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS17956D7ADBC6E73663A80FF3117AE32A9C8-7FDE"><li class="li" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-26FC">选择要用于替换单个 nCache 帧的对象。 <div class="note note" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-26FB"><span class="notetitle">注：</span> 
<p class="p" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-CFB0A42C-80D0-470E-B26A-B8CBF575A7FE">无法将 nCache 帧替换为已启用多个缓存的对象。 </p>

</div>
 </li>
<li class="li" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS73099CC142F48755-471CC4BD11960D8A16C-2CB">从 FX 菜单集中，选择<span class="ph menucascade" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-86D68994-B6B6-4E6E-BA15-CEAF080FB958"><span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-9EEC6CB2-087E-40E6-B784-E8FDBB2B1583">“nCache</span> &gt; <span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-CF8F9E46-9A64-4F30-A863-D7E335D29E49">替换缓存帧”(nCache &gt; Replace Cache Frame)</span></span>。 <p class="p" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS73099CC142F48755-471CC4BD11960D8A16C-2C7">模拟后，将为<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-C57722BE-5B5A-432D-88CA-F96BCECF4E83">“替换 nCache 帧选项”(Replace nCache Frame(s) Options)</span>窗口中指定的帧或一系列帧创建一个缓存，替换您的对象的在指定时间范围内的当前缓存，并将生成原始未更改的缓存和描述文件的备份（默认情况下，名为 backup#_<em class="ph i" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-1C826BB8-911D-4198-A15C-99981BA25DA3">originalCacheName</em>）。这是撤消操作所必需的。 </p>
 <p class="p" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS73099CC142F48755-471CC4BD11960D8A16C-2C6">请参见<a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-SimulationEffects/files/GUID-2705E745-C034-4F9B-8317-3E704F20939C.htm">“nCache &gt; 替换缓存帧”(nCache &gt; Replace Cache Frame)</a>。 </p>
 </li>
</ol>
<div class="section" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-26F7"><h2 class="title sectiontitle">撤消替换 nCache 帧的操作</h2>

<div class="note note" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-26F6"><span class="notetitle">注：</span> 
<p class="p" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-DB4F426B-2EA7-4354-875B-AD6EA57C490F">如果替换 nCache 帧时启用了<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-0243A55D-0A9E-4955-BC4A-BE173DCD42F6">“删除备份文件”(Delete backup files)</span>，则无法撤消该替换操作，因为系统已从磁盘中删除了被替换的帧。 </p>

</div>

<p class="p" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-26F5">替换 nCache 帧时，将自动生成原始缓存数据的备份文件，并使用添加了 backup_、backup1_ 等前缀的原始缓存文件名称来命名备份文件。若要撤消替换 nCache 帧的操作，则需要将生成的备份文件重命名为原始文件名<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-7C186E07-A016-418C-8E4D-4A90322A7689"></span>。例如，若要在名为 Cape 的 nCache 上撤消替换 nCache 帧的操作，请将 backup_Cape.xml 和 backup_Cape.mc 备份文件重命名为 Cape.xml 和 Cape.mc。 </p>

<p class="p" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__WS1A9193826455F5FF6026605B1181C8F4F2E-26F4">当替换<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-1221D900-E634-4B18-A16F-8BB4CE01DBC4">“每帧一个文件”(One File Per Frame)</span>缓存上的 nCache 帧时，仅对被替换的帧进行备份。若要撤消替换<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-FAB673B9-A3B6-4C89-BFEA-605A33E2B227">“每帧一个文件”(One File Per Frame)</span>缓存上 nCache 帧的操作，则需要将生成的备份帧文件重命名为原始帧文件名。。例如，若要撤消替换名为 CapeFrame1、CapeFrame2 和 CapeFrame3 的<span class="ph uicontrol" id="GUID-2D87AB7E-488B-4254-8C75-0847FC617855__GUID-1281B0C6-2F05-4F58-84A9-B149632B5093">“每帧一个文件”(One File Per Frame)</span>缓存上 nCache 帧的操作，需要将 backup_Cape.xml 文件重命名为 Cape.xml，同时将被替换的帧备份文件 backup_CapeFrame1.mc、backup_CapeFrame2.mc 和 backup_CapeFrame3.mc 重命名为 CapeFrame1.mc、CapeFrame2.mc 和 CapeFrame3.mc。 </p>

</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-SimulationEffects/files/GUID-91CA5412-26D0-4B5D-9543-DCF712C23644.htm">nCaching</a></div>
</div>
</div>

</body>
</html>
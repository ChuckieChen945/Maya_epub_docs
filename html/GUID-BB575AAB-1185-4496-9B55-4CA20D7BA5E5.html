<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="topic-type" content="topic">

<meta name="product" content="MAYAUL">
<meta name="release" content="2025">
<meta name="book" content="GeneralUser">
<meta name="component" content="Maya-CharEffEnvBuild">
<meta name="created" content="30/7/2024">
<meta name="generatedby" content="TRIDION">
<meta name="user-comments" content="disable">
<meta name="description" content="将 Ptex 贴图和表达式一起使用，可以为基本体属性生成输出值。例如，可以创建 Ptex 贴图，然后使用表达式来更改贴图值影响基本体颜色的方式。">
<meta name="indexterm" content="Ptex 贴图;表达式;使用 Ptex 贴图;使用表达式">
<meta name="modified" content="13/11/2021">
<meta name="topicid" content="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5">
<meta name="language" content="CHS">
<title>使用 Ptex 贴图和表达式</title>

	<link rel="stylesheet" type="text/css" href="../style/client.css">
	<script type="text/javascript" src="../scripts/client.js"><!--filler--></script>
</head>
<body id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5">
<div class="head"><div class="head-block"><div class="button-info"><span id="infoline"> </span></div>
<div class="ancestry"> </div>
<div class="head-text"><h1>使用 Ptex 贴图和表达式</h1></div>
</div>
</div>

<div class="body"><p class="shortdesc">将 Ptex 贴图和表达式一起使用，可以为基本体属性生成输出值。例如，可以创建 Ptex 贴图，然后使用表达式来更改贴图值影响基本体颜色的方式。 
  </p>
<div class="section" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__SECTION_885BACBF84404D3D9AD75BC45C9C2F7A"><h2 class="title sectiontitle">使用表达式修改 Ptex 贴图值 </h2> 
		 
		<p class="p" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-15C50C63-A968-43E1-803C-87C7E575EBA3">创建 Ptex 贴图后，可以使用生成的值作为表达式的输入或使用表达式修改 Ptex 贴图值。 
		</p>
 
		<ol class="ol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__OL_6348183ECE7448FCA08C549DECD523BF"><li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_7FDD5AD60B834CF987660AD9510FA6BA">单击此图标 <img class="image" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__IMAGE_D8A0FEF2B834414CBDCAF95FE79CBD61" src="../images/GUID-F4497753-0A89-4644-A7EC-1007B4821A20.png"> 以查看由 Ptex 贴图创建的表达式。 
			 <p class="p" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-56F33EB2-ECAA-4B89-B533-7CCC94F262E9">Ptex 贴图表达式应与下面相似： 
			 </p>
 
			 <p class="p" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-14396222-195D-4E31-A71D-A7EE8FC83FB9"> 
				<samp class="ph codeph" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-7DF8E189-8433-428B-9772-F6A932EC4C77">$a=map('${DESC}/paintmaps/mask');</samp> 
			 </p>
 
		  </li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_90716124B3074CFDA9AC6AAA3D375CE9">为要对 Ptex 贴图输出执行的操作创建变量和表达式，如随机化表达式。 
			 <p class="p" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-F7E3D706-326A-4E92-8CD5-2E6033CAE01D"> 
				<samp class="ph codeph" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-7F554E02-AEB0-46CC-A9BB-8B579EC79F25">$b = rand(0.2, 1.4);</samp> 
			 </p>
 
		  </li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_BDED2225C6FE43208F8E02CBC4819409">合并表达式中的变量以生成修改后的 Ptex 贴图输出。 
			 <p class="p" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-78D02DD9-B746-42D1-A36E-5F24675BAD78"> 
				<samp class="ph codeph" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-448D02A2-5770-42D2-B10A-8BA77EA2802B">$a*$b</samp> 
			 </p>
 
		  </li>
</ol>
 
	 </div>
<div class="section" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__SECTION_A859DD7D8113454E998022E5CB63CFC3"><h2 class="title sectiontitle">合并多个 Ptex 贴图的效果 </h2> 
		 
		<p class="p" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-C96A26C5-E21B-41BB-B57A-0244F132429B">可以创建多个 Ptex 贴图，然后使用表达式合并贴图对基本体的影响。在此示例中，将合并两个 Ptex 贴图的效果来控制<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-95EC6937-328B-407E-A128-E68E74D1FAA0">“预览颜色”(Preview Color)</span>属性。您可以使用相同的工作流为其他基本体属性创建并合并 Ptex 贴图。 
		</p>
 
		<ol class="ol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__OL_75C533584D104F05A5F5FC3323926B28"><li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_D2087F6C859940C28EBC01F51E696672">单击<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-368A1CC0-CDED-4420-83C7-270EF23DA694">“预览”(Preview)</span>选项卡。 
		  </li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_DEE79F921AF0497193222A777B1B9BE2">通过执行以下操作为<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-142EDAE1-4534-4E95-9E59-BF18D079BEFE">“预览颜色”(Preview Color)</span>创建 Ptex 贴图： 
			 <ul class="ul" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__UL_1F7DD6ED495C4DF6809D77283556D949"><li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_39AC5C600A5540F892F5DD617EE2FE1A">在<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-F2851919-5A62-4D72-A483-41AC5A59646B">“预览颜色”(Preview Color)</span>旁边，单击此图标 <img class="image" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__IMAGE_EC4491EE66064CEFA97AD14A5EBEA2FA" src="../images/GUID-08B39FDE-C9A4-469D-883A-E54A77A2A1E2.png">。 
				</li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_964AD4FFA9C94A4EA0A8DC2ECC0F7662">从显示的菜单中选择<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-88D13CCA-BB59-4889-8099-A6B971C23662">“创建贴图”(Create Map)</span>。 
				</li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_4E16656FF0D645F78D94C2804A015730">设置<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-AB7F7FBD-EBBB-477F-9975-D3735586878D">“创建贴图”(Create Map)</span>选项。 
				</li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_A95532E4EE9E46ACB80AE3E33AF5543E">使用要用作<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-20FAC101-783F-470C-A213-90293C79C727">“预览颜色”(Preview Color)</span>的颜色绘制多边形曲面。 
				</li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_74ACF6DD375F4B7B8D848618EC6577C5">在<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-B1D50725-8634-4378-84E2-F33648ED552A">“预览颜色”(Preview Color)</span>旁边，单击此图标 <img class="image" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__IMAGE_7DADD89A2B0B493C8A9DBD54D3C44504" src="../images/GUID-DDB58FF5-E3BB-4BA6-82DB-7DCEF69B88E2.png"> 保存贴图。 
				</li>
</ul>
 
		  </li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_19FAE688DE6242729A09696DC5D9581C">重复执行步骤 2，为<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-13DB0685-41F2-4FBC-84E1-5E3B801F0C95">“预览颜色”(Preview Color)</span>创建第二个 Ptex 贴图。 
		  </li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_1ABDF7E3DD1B4F6198BFA1B0530C6675">单击此图标 <img class="image" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__IMAGE_A31300EE34044786BAA0BB56988106F0" src="../images/GUID-F4497753-0A89-4644-A7EC-1007B4821A20.png">，打开<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-30D3C82A-EFAF-48B5-8FBF-AFBFC2DA52BC">“XGen 表达式编辑器”(XGen Expression Editor)</span>。 
		  </li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_0F6CCA0BB3614D7F9F380090AC2FBA63">在<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-98043395-9595-47BF-8101-32759D02C79B">“XGen 表达式编辑器”(XGen Expression Editor)</span>中，选择 Ptex 贴图表达式。 
			 <div class="fig fignone" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__FIG_E963C2124A5B417585E332BDD94CEFD3"><img class="image" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__IMAGE_D21E20BB96184ECCB319E385781B2F2C" src="../images/GUID-ED91E6D9-A93F-4009-9711-E440FB3BED5B.png"></div>
 
		  </li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_93BD855CB754480F8ED61EA2FC767FA9">将表达式复制并粘贴到编辑器的第 <strong class="ph b" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-8B49BD07-A1FD-4BE2-8CE4-55CA3FD783E4">2</strong> 行。 
		  </li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_1D89DB28ABE44F14A4A06F1421065A1B">通过执行以下操作编辑表达式： 
			 <ul class="ul" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__UL_2F105E0FD4B74D028A6C91B1ADE67835"><li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_A99E7D2D0CD7491E91BD89ADDB9EC8DC">在第 <strong class="ph b" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-C0588E11-2964-4999-B4C8-D33F22FF9503">1</strong> 行中，将 <samp class="ph codeph" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-B7EECBBE-6C1F-4299-838D-40E348775B09">Color1</samp> 更改为 <samp class="ph codeph" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-0948576A-4CA9-4615-A2FF-11A4362616ED">Color</samp>。 
				</li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_03904F91D6424C199337B98DD3A17E72">在第 <strong class="ph b" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-C1D3BB4D-2026-47C5-ADFB-1427841A6A8A">2</strong> 行中，将 <samp class="ph codeph" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-82A151C0-D4F9-434F-BE37-31F335ABEC00">$a</samp> 更改为 <samp class="ph codeph" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-F0EDB01F-79ED-489B-9082-DF1014F05328">$b</samp>。 
				</li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_2EB871A9F354471AB9AF0E6B8166ADB9">在第 <strong class="ph b" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-59E255DB-0E4C-4C71-933D-090F5D5EAF26">3</strong> 行中，键入 <samp class="ph codeph" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-468E6493-4911-4A70-95AC-A71E8FA3E8BF">$a*$b</samp>。 
				  <div class="fig fignone" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__FIG_4321AADCBA324FB699B349FC89216C45"><img class="image" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__IMAGE_771D93DB78104F628EDAD2087413703B" src="../images/GUID-09CFB2D0-44D1-4304-8F64-EB5FAB62132B.png"></div>
 
				  <p class="p" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-04F27936-E18D-491F-941C-EBAF587CFCEA">此表达式将合并 Ptex 贴图值。 
				  </p>
 
				</li>
<li class="li" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__LI_5E95C76CF35D43C99F3E4BD059446989">单击<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-81AAF81F-976C-431A-87C0-FF4AA278DF56">“接受”(Accept)</span>。 
				</li>
</ul>
 
			 <p class="p" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-9CF1531D-25AB-4EFF-AB9E-232D212917BB">请注意，现在在 <span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-3C813741-7715-47AB-B214-84DB845CF218">XGen 编辑器</span>的<span class="ph uicontrol" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-4DF5F51E-0594-4087-877E-9D3B014AA791">“基本体颜色”(Primitive Color)</span>下会显示两个 Ptex 贴图的值。 
			 </p>
 
			 <p class="p" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-E389F4C5-3444-4465-8ECF-A5904BAA9E98"> 可以通过许多其他方法合并 Ptex 贴图值。例如，您可以将贴图值相加，然后通过将 <samp class="ph codeph" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-2739A5E0-0FD6-46C4-AF0E-0BCCAF786176">$a+$b*rand(0.6,1)</samp> 添加到表达式来对结果进行随机化处理。 
			 </p>
 
			 <p class="p" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-5E3273F9-D952-46F7-825B-FE03F0A4AA1E">您可以将该表达式复制到其他基本体属性（如“长度”(Length)）以控制其值。 
			 </p>
 
			 <p class="p" id="GUID-BB575AAB-1185-4496-9B55-4CA20D7BA5E5__GUID-472D903C-7004-497E-918D-1D2B8D27FEAF"> 也可以使用表达式合并两个 Ptex 贴图的输出值以生成许多有趣的效果。请参见<a class="xref" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-B4A3599D-D37B-4698-84ED-66203B75E87B.htm">噪波表达式示例</a>。 
			 </p>
 
		  </li>
</ol>
 
	 </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-C12F096E-A01A-4CA4-A96D-FD9592D477E4.htm">使用属性、表达式和贴图控制 XGen 基本体</a></div>
</div>
<div class="relinfo"><h4 class="related">相关信息</h4>
<ul><li><a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-EF55C3B5-D09B-4B6A-BB80-574A0311EE0F.htm" title="本部分提供了大量 seExpr 表达式示例，可供您用于修饰和景观场景。提供面向所有用户级别的示例，包括面向新用户的基本表达式。">XGen 表达式示例</a></li><li><a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-BA150C17-65E0-4688-91F4-73C4F857689E.htm">XGen 表达式编辑器(XGen Expression Editor)</a></li><li><a class="link" href="https://help.autodesk.com/cloudhelp/2025/CHS/Maya-CharEffEnvBuild/files/GUID-AFB8F7F3-DCCC-414A-9EC3-83B97FCC8C30.htm" title="该部分提供关于您可以在 XGen 表达式中使用的受支持全局变量、函数和运算符的参考信息。">XGen 表达式引用</a></li></ul></div>
</div>
</body>
</html>